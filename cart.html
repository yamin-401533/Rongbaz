<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JerseyJoy - Vibrant Kids' Jerseys</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/alpinejs/3.10.3/cdn.min.js" defer></script>
    <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&family=Nunito:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        moon: {
                            50: '#f0f9ff', 100: '#e0f2fe', 200: '#bae6fd', 300: '#7dd3fc',
                            400: '#38bdf8', 500: '#0ea5e9', 600: '#0284c7', 700: '#0369a1',
                            800: '#075985', 900: '#0c4a6e'
                        },
                        glow: {
                            50: '#fff7ed', 100: '#ffedd5', 200: '#fed7aa', 300: '#fdba74',
                            400: '#fb923c', 500: '#f97316', 600: '#ea580c', 700: '#c2410c',
                            800: '#9a3412', 900: '#7c2d12'
                        },
                        nebula: {
                            50: '#fdf2f8', 100: '#fce7f3', 200: '#fbcfe8', 300: '#f9a8d4',
                            400: '#f472b6', 500: '#ec4899', 600: '#db2777', 700: '#be185d',
                            800: '#9d174d', 900: '#831843'
                        },
                        stardust: {
                            light: '#a5b4fc', DEFAULT: '#818cf8', dark: '#6366f1'
                        },
                        comet: {
                            light: '#f87171', DEFAULT: '#ef4444', dark: '#dc2626'
                        }
                    },
                    fontFamily: {
                        comic: ['"Comic Neue"', 'cursive'],
                        nunito: ['Nunito', 'sans-serif']
                    },
                    
                    keyframes: {
                        twinkle: {
                            '0%, 100%': { opacity: '0.5', transform: 'scale(1)' },
                            '50%': { opacity: '1', transform: 'scale(1.2)' }
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0) rotate(0deg)' },
                            '50%': { transform: 'translateY(-20px) rotate(10deg)' }
                        },
                        pulse: {
                            '0%, 100%': { opacity: '0.4', transform: 'scale(1)' },
                            '50%': { opacity: '1', transform: 'scale(1.1)' }
                        }
                    }
                }
            }
        };
    </script>
    <style>
        
        body.dark-mode {
            background: linear-gradient(to bottom, #1a202c, #2d3748);
            color: #e2e8f0;
        }
        h1, h2, h3, h4 {
            font-family: 'Comic Neue', cursive;
        }
        .moon-bg {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 80 80' width='80' height='80'%3E%3Cpath fill='%23ec4899' fill-opacity='0.2' d='M40 0a40 40 0 0 0-8 80 40 40 0 0 1 0-80z'/%3E%3C/svg%3E");
        }
        .product-card {
            background: rgba(45, 55, 72, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            transition: transform 0.5s ease, box-shadow 0.5s ease;
            position: relative;
            overflow: hidden;
        }
        .dark-mode .product-card {
            background: rgba(45, 55, 72, 0.9);
        }
        .product-card:hover {
            transform: translateY(-15px) scale(1.03);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.2);
        }
        .product-card img {
            transition: transform 0.6s ease, filter 0.6s ease;
        }
        .product-card:hover img {
            transform: scale(1.15) rotate(5deg);
            filter: brightness(1.1);
        }
        .badge {
            position: absolute;
            top: 15px;
            left: 15px;
            font-size: 0.75rem;
            font-weight: bold;
            padding: 6px 14px;
            border-radius: 8px;
            transform: rotate(-15deg);
            z-index: 10;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            animation: twinkle 2s infinite;
        }
        .age-tag {
            position: absolute;
            top: -10px;
            right: 10px;
            border-radius: 999px;
            font-weight: bold;
            padding: 4px 12px;
            transform: rotate(10deg);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
        }
        .bubble {
            border-radius: 999px;
            animation: float 6s ease-in-out infinite;
            pointer-events: none;
        }
        .tooltip::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            padding: 6px 12px;
            background: #1e3a8a;
            color: white;
            border-radius: 6px;
            font-size: 12px;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s;
        }
        .dark-mode .tooltip::after {
            background: #2d3748;
        }
        .tooltip:hover::after {
            opacity: 1;
            visibility: visible;
        }
        .filter-btn.active {
            background: linear-gradient(135deg, #ec4899, #f97316);
            color: white;
            transform: scale(1.15);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }
        .color-dot {
            width: 28px;
            height: 28px;
            border-radius: 8px;
            margin: 0 8px;
            cursor: pointer;
            transition: transform 0.3s ease, border 0.3s ease;
            border: 3px solid #fff;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        }
        .color-dot:hover {
            transform: scale(1.3);
        }
        .color-dot.selected {
            transform: scale(1.3);
            border-color: #fef3c7;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.4);
        }
        .size-btn {
            padding: 8px 16px;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.2);
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            backdrop-filter: blur(5px);
        }
        .dark-mode .size-btn {
            background: rgba(45, 55, 72, 0.2);
        }
        .size-btn:hover {
            background: rgba(255, 255, 255, 0.4);
        }
        .dark-mode .size-btn:hover {
            background: rgba(74, 85, 104, 0.4);
        }
        .size-btn.selected {
            background: #ec4899;
            color: white;
        }
        .cart-pulse {
            animation: cartPulse 0.6s ease;
        }
        @keyframes cartPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.3); }
            100% { transform: scale(1); }
        }
        .modal {
            transform: translateY(100%);
            transition: transform 0.6s ease;
        }
        .modal.active {
            transform: translateY(0);
        }
        .confetti {
            position: absolute;
            width: 12px;
            height: 12px;
            opacity: 0;
            z-index: -1;
            animation: confettiFall 2.5s ease-out forwards;
        }
        @keyframes confettiFall {
            0% { opacity: 1; transform: translateY(0) rotate(0deg); }
            100% { opacity: 0; transform: translateY(100vh) rotate(1080deg); }
        }
        .mascot {
            animation: bounce 2s infinite alternate;
        }
        @keyframes bounce {
            0% { transform: translateY(0); }
            100% { transform: translateY(-30px); }
        }
        .hover-sound:hover {
            cursor: pointer;
        }
        .back-to-top {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #ec4899;
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s;
            z-index: 1000;
        }
        .back-to-top.visible {
            opacity: 1;
            visibility: visible;
        }
        .dark-mode .back-to-top {
            background: #f472b6;
        }
        .quick-cart {
            position: fixed;
            bottom: 80px;
            right: 20px;
            background: #0ea5e9;
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            transition: transform 0.3s ease;
        }
        .quick-cart:hover {
            transform: scale(1.1);
        }
        .quick-cart span {
            position: absolute;
            top: -10px;
            right: -10px;
            background: #f97316;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }
        .lightbox {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        .lightbox.active {
            opacity: 1;
            visibility: visible;
        }
        .lightbox img {
            max-width: 90%;
            max-height: 90%;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }
        .canvas-container {
            background: #fff;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }
    </style>
</head>
<body x-data="{
    cart: JSON.parse(localStorage.getItem('cart')) || [],
    wishlist: JSON.parse(localStorage.getItem('wishlist')) || [],
    activeFilters: { category: ['All'], team: ['All'], age: ['All'], rating: ['All'] },
    searchQuery: '',
    priceRange: [0, 3000],
    cartOpen: false,
    previewOpen: false,
    sizeGuideOpen: false,
    lightboxOpen: false,
    lightboxImages: [],
    designLabOpen: false,
    previewProduct: null,
    mobileMenu: false,
    rewardPoints: parseInt(localStorage.getItem('rewardPoints')) || 0,
    darkMode: localStorage.getItem('darkMode') === 'true',
    design: { team: 'Barcelona', color: '#ec4899', name: '', number: '' },
    productsLoaded: 8,
    totalProducts: 45,
    loadingMore: false,
    addToCart(product) {
        const existingItem = this.cart.find(item => item.name === product.name);
        if (existingItem) {
            existingItem.quantity++;
        } else {
            this.cart.push({ ...product, quantity: 1 });
        }
        this.rewardPoints += 10;
        localStorage.setItem('cart', JSON.stringify(this.cart));
        localStorage.setItem('rewardPoints', this.rewardPoints);
        this.createConfetti();
        this.playSound('add-to-cart');
        alert(`${product.name} added to cart! +10 Team Points`);
    },    buyNow(product) {
        if (!product.selectedSize) {
            alert('Please select a size first!');
            return;
        }
        // Open Google Form with pre-filled values
        const formUrl = 'https://forms.gle/6n8UdpreS5o3giHw8';
        const params = new URLSearchParams({
            'entry.1234567890': product.name,
            'entry.0987654321': product.selectedSize,
            'entry.1111111111': product.price.toLocaleString(),
            'entry.2222222222': product.colors.join(', ')
        });
        window.open(`${formUrl}?${params.toString()}`, '_blank');
        this.playSound('success');
    },
    selectSize(product, size) {
        product.selectedSize = size;
        this.playSound('hover');
    },
    quickView(product) {
        this.previewProduct = product;
        this.previewOpen = true;
        this.playSound('hover');
    },
    closeModal() {
        this.previewOpen = false;
        this.sizeGuideOpen = false;
        this.cartOpen = false;
    },
    filterProducts(category) {
        if (category === 'All') {
            this.activeFilters = ['All'];
        } else {
            const index = this.activeFilters.indexOf('All');
            if (index > -1) {
                this.activeFilters.splice(index, 1);
            }
            const categoryIndex = this.activeFilters.indexOf(category);
            if (categoryIndex > -1) {
                this.activeFilters.splice(categoryIndex, 1);
            } else {
                this.activeFilters.push(category);
            }
            if (this.activeFilters.length === 0) {
                this.activeFilters = ['All'];
            }
        }
    },
    isInStock(product) {
        return Math.random() > 0.2; // Simulated stock check
    },
    toggleWishlist(name) {
        if (this.wishlist.includes(name)) {
            this.wishlist = this.wishlist.filter(item => item !== name);
            alert('Removed from wishlist!');
        } else {
            this.wishlist.push(name);
            this.playSound('wishlist');
            alert('Added to wishlist!');
        }
        localStorage.setItem('wishlist', JSON.stringify(this.wishlist));
    },
    toggleFilter(type, filter) {
        if (filter === 'All') {
            this.activeFilters[type] = ['All'];
        } else {
            if (this.activeFilters[type].includes('All')) {
                this.activeFilters[type] = [filter];
            } else {
                if (this.activeFilters[type].includes(filter)) {
                    this.activeFilters[type] = this.activeFilters[type].filter(f => f !== filter);
                    if (this.activeFilters[type].length === 0) this.activeFilters[type] = ['All'];
                } else {
                    this.activeFilters[type].push(filter);
                }
            }
        }
    },
    createConfetti() {
        for (let i = 0; i < 30; i++) {
            const confetti = document.createElement('div');
            confetti.className = 'confetti';
            confetti.style.background = ['#ec4899', '#f97316', '#0ea5e9', '#818cf8'][Math.floor(Math.random() * 4)];
            confetti.style.left = `${Math.random() * 100}vw`;
            confetti.style.animationDelay = `${Math.random() * 0.8}s`;
            document.body.appendChild(confetti);
            setTimeout(() => confetti.remove(), 2500);
        }
    },
    selectColor(event) {
        const dots = event.target.parentElement.querySelectorAll('.color-dot');
        dots.forEach(dot => dot.classList.remove('selected'));
        event.target.classList.add('selected');
    },
    playSound(type) {
        const sounds = {
            'add-to-cart': new Audio('https://cdn.pixabay.com/audio/2022/03/10/audio_5b8b3a7d5d.mp3'),
            'wishlist': new Audio('https://cdn.pixabay.com/audio/2022/03/10/audio_3f3f3f3f3f.mp3'),
            'hover': new Audio('https://cdn.pixabay.com/audio/2022/03/10/audio_3f3f3f3f3f.mp3')
        };
        sounds[type]?.play();
    },
    toggleDarkMode() {
        this.darkMode = !this.darkMode;
        localStorage.setItem('darkMode', this.darkMode);
        document.body.classList.toggle('dark-mode', this.darkMode);
    },
    drawJersey() {
        const canvas = document.getElementById('jersey-canvas');
        if (!canvas) return;
        const ctx = canvas.getContext('2d');
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = this.design.color;
        ctx.fillRect(50, 50, 200, 300);
        ctx.fillStyle = '#fff';
        ctx.font = '20px Comic Neue';
        ctx.textAlign = 'center';
        ctx.fillText(this.design.name.toUpperCase(), 150, 200);
        ctx.font = '30px Comic Neue';
        ctx.fillText(this.design.number, 150, 250);
        const img = new Image();
        img.src = `images/${this.design.team === 'Barcelona' ? 1 : this.design.team === 'Argentina' ? 28 : this.design.team === 'Real Madrid' ? 39 : this.design.team === 'Spain' ? 43 : this.design.team === 'Germany' ? 45 : 36}.png`;
        img.onload = () => {
            ctx.drawImage(img, 50, 50, 200, 300);
        };
    },
    downloadJersey() {
        const canvas = document.getElementById('jersey-canvas');
        const link = document.createElement('a');
        link.download = 'custom-jersey.png';
        link.href = canvas.toDataURL();
        link.click();
    },
    openLightbox(images) {
        this.lightboxImages = images;
        this.lightboxOpen = true;
    }
}" @dark-mode.window="darkMode = $event.detail; document.body.classList.toggle('dark-mode', $event.detail)">

<!-- Complete Professional Navbar with Special Buttons -->
<header class="bg-white/95 backdrop-blur-lg shadow-sm sticky top-0 z-50 dark:bg-gray-900/95 border-b border-gray-100 dark:border-gray-800 transition-colors duration-300" role="banner">
    <div class="container mx-auto px-4 py-3 flex justify-between items-center">
        <!-- Logo -->
                <a href="index.html" class="flex items-center group" aria-label="Rongbaz Home">
            <!-- Logo Box -->
            <div class="bg-gradient-to-r from-gray-900 to-gray-800 text-yellow-400 px-3 sm:px-2 py-1 sm:py-2 rounded-lg mr-1.5 sm:mr-2 shadow-md group-hover:shadow-xl transition-all duration-300 border border-yellow-500/20">
                <span class="text-xl sm:text-2xl font-extrabold tracking-tight">Blaze</span>
            </div>
            <!-- Text -->
            <span class="text-xl sm:text-2xl font-extrabold tracking-tight text-gray-800 group-hover:text-yellow-500 transition-colors duration-300 dark:text-white dark:group-hover:text-yellow-400">Jersey</span>
        </a>

        <!-- Main Navigation -->
        <nav class="hidden lg:flex space-x-1" role="navigation">
            <!-- Home -->
            <a href="index.html" class="px-4 py-2 text-gray-700 dark:text-gray-300 hover:text-nebula-500 dark:hover:text-nebula-400 font-medium relative group transition-colors duration-200" aria-current="page">
                Home
                <span class="absolute bottom-0 left-1/2 transform -translate-x-1/2 w-0 h-0.5 bg-nebula-500 transition-all duration-300 group-hover:w-4/5"></span>
            </a>
            
            <!-- Shop -->
            <a href="#products" class="px-4 py-2 text-gray-700 dark:text-gray-300 hover:text-nebula-500 dark:hover:text-nebula-400 font-medium relative group transition-colors duration-200">
                Shop
                <span class="absolute bottom-0 left-1/2 transform -translate-x-1/2 w-0 h-0.5 bg-nebula-500 transition-all duration-300 group-hover:w-4/5"></span>
            </a>
            
            <!-- Special Kids Collection Button -->
            <a href="https://yamin-401533.github.io/Rongbaz/kids.html" target="_blank" class="relative px-4 py-2 font-medium group mx-1">
                <span class="relative z-10 text-gray-700 dark:text-gray-300 group-hover:text-white transition-colors duration-200">
                    Kids
                </span>
                <span class="absolute inset-0 bg-gradient-to-r from-pink-400 to-purple-500 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 -z-1"></span>
                <span class="absolute -top-2 -right-2 bg-yellow-400 text-gray-900 text-xs px-2 py-0.5 rounded-full font-bold transform group-hover:scale-110 transition-transform duration-200 shadow-sm">
                    NEW
                </span>
                <span class="absolute bottom-0 left-0 w-full h-0.5 bg-purple-400 scale-x-0 group-hover:scale-x-100 transform origin-left transition-transform duration-300"></span>
            </a>
            
            <!-- Special T-Shirts Button -->
            <a href="https://yamin-401533.github.io/Rongbaz/cart.html" target="_blank" class="relative px-4 py-2 font-medium group mx-1">
                <span class="relative z-10 text-gray-700 dark:text-gray-300 group-hover:text-white transition-colors duration-200">
                    T-Shirts
                </span>
                <span class="absolute inset-0 bg-gradient-to-r from-blue-400 to-nebula-500 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 -z-1"></span>
                <span class="absolute -top-2 -right-2 bg-nebula-500 text-white text-xs px-2 py-0.5 rounded-full font-bold transform group-hover:scale-110 transition-transform duration-200 shadow-sm">
                    HOT
                </span>
                <span class="absolute bottom-0 left-0 w-full h-0.5 bg-nebula-400 scale-x-0 group-hover:scale-x-100 transform origin-left transition-transform duration-300"></span>
            </a>
            
            <!-- Collections -->
            <a href="#collections" class="px-4 py-2 text-gray-700 dark:text-gray-300 hover:text-nebula-500 dark:hover:text-nebula-400 font-medium relative group transition-colors duration-200">
                Collections
                <span class="absolute bottom-0 left-1/2 transform -translate-x-1/2 w-0 h-0.5 bg-nebula-500 transition-all duration-300 group-hover:w-4/5"></span>
            </a>
            
            <!-- Design Lab -->
            <a href="#design-lab" class="px-4 py-2 text-gray-700 dark:text-gray-300 hover:text-nebula-500 dark:hover:text-nebula-400 font-medium relative group transition-colors duration-200">
                Design Lab
                <span class="absolute bottom-0 left-1/2 transform -translate-x-1/2 w-0 h-0.5 bg-nebula-500 transition-all duration-300 group-hover:w-4/5"></span>
            </a>
            
            <!-- Custom Jerseys -->
            <a href="#custom" class="px-4 py-2 text-gray-700 dark:text-gray-300 hover:text-nebula-500 dark:hover:text-nebula-400 font-medium relative group transition-colors duration-200">
                Custom Jerseys
                <span class="absolute bottom-0 left-1/2 transform -translate-x-1/2 w-0 h-0.5 bg-nebula-500 transition-all duration-300 group-hover:w-4/5"></span>
            </a>
        </nav>

        <!-- Action Buttons -->
        <div class="flex items-center space-x-6">
            <!-- Search -->
            <button class="text-gray-600 dark:text-gray-400 hover:text-nebula-500 dark:hover:text-nebula-400 transition-colors duration-200 hover-sound" aria-label="Search">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                </svg>
            </button>
            
            <!-- Special Cart Button -->
            <button @click="cartOpen = !cartOpen" class="relative p-2 group" aria-label="Open Cart">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-600 dark:text-gray-400 group-hover:text-nebula-500 transition-colors duration-200" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
                </svg>
                <span x-text="cart.reduce((sum, item) => sum + item.quantity, 0)" 
                      class="absolute -top-1 -right-1 bg-gradient-to-br from-red-500 to-pink-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center 
                             transform group-hover:scale-125 group-hover:rotate-12 transition-transform duration-200 shadow-lg"
                      aria-hidden="true">
                </span>
                <span class="absolute -bottom-1 left-0 w-full h-1 bg-nebula-400 scale-x-0 group-hover:scale-x-100 transform origin-left transition-transform duration-300"></span>
            </button>
            
            <!-- Account -->
            <button class="text-gray-600 dark:text-gray-400 hover:text-nebula-500 dark:hover:text-nebula-400 transition-colors duration-200 hover-sound" aria-label="Account">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                </svg>
            </button>
            
            <!-- Dark Mode Toggle -->
            <button @click="toggleDarkMode()" class="text-gray-600 dark:text-gray-400 hover:text-nebula-500 dark:hover:text-nebula-400 transition-colors duration-200 hover-sound" aria-label="Toggle Dark Mode">
                <svg x-show="!darkMode" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
                </svg>
                <svg x-show="darkMode" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
                </svg>
            </button>
            
            <!-- Mobile Menu Toggle -->
            <button @click="mobileMenu = !mobileMenu" class="lg:hidden text-gray-600 dark:text-gray-400 hover:text-nebula-500 dark:hover:text-nebula-400 transition-colors duration-200 hover-sound" aria-label="Toggle Mobile Menu">
                <svg x-show="!mobileMenu" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                </svg>
                <svg x-show="mobileMenu" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
        </div>
    </div>

    <!-- Mobile Menu -->
    <div x-show="mobileMenu" class="lg:hidden bg-white/95 dark:bg-gray-900/95 backdrop-blur-lg shadow-lg px-6 py-4 border-t border-gray-100 dark:border-gray-800">
        <nav class="flex flex-col space-y-3" role="navigation">
            <a href="#" class="px-4 py-3 text-gray-700 dark:text-gray-300 hover:text-nebula-500 dark:hover:text-nebula-400 font-medium rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-200">Home</a>
            <a href="#products" class="px-4 py-3 text-gray-700 dark:text-gray-300 hover:text-nebula-500 dark:hover:text-nebula-400 font-medium rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-200">Shop</a>
            
            <!-- Special Kids Button (Mobile) -->
            <a href="https://yamin-401533.github.io/Rongbaz/kids.html" target="_blank" class="relative px-4 py-3 font-medium rounded-lg overflow-hidden group">
                <span class="relative z-10 flex justify-between items-center">
                    <span>Kids Collection</span>
                    <span class="bg-yellow-400 text-gray-900 text-xs px-2 py-0.5 rounded-full font-bold">NEW!</span>
                </span>
                <span class="absolute inset-0 bg-gradient-to-r from-pink-400 to-purple-500 opacity-0 group-hover:opacity-20 transition-opacity duration-300 -z-1"></span>
            </a>
            
            <!-- Special T-Shirts Button (Mobile) -->
            <a href="https://yamin-401533.github.io/Rongbaz/cart.html" target="_blank" class="relative px-4 py-3 font-medium rounded-lg overflow-hidden group">
                <span class="relative z-10 flex justify-between items-center">
                    <span>Premium Tees</span>
                    <span class="bg-nebula-500 text-white text-xs px-2 py-0.5 rounded-full font-bold">HOT</span>
                </span>
                <span class="absolute inset-0 bg-gradient-to-r from-blue-400 to-nebula-500 opacity-0 group-hover:opacity-20 transition-opacity duration-300 -z-1"></span>
            </a>
            
            <a href="#collections" class="px-4 py-3 text-gray-700 dark:text-gray-300 hover:text-nebula-500 dark:hover:text-nebula-400 font-medium rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-200">Collections</a>
            <a href="#design-lab" class="px-4 py-3 text-gray-700 dark:text-gray-300 hover:text-nebula-500 dark:hover:text-nebula-400 font-medium rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-200">Design Lab</a>
            <a href="#custom" class="px-4 py-3 text-gray-700 dark:text-gray-300 hover:text-nebula-500 dark:hover:text-nebula-400 font-medium rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-200">Custom Jerseys</a>
            
            <!-- Special Cart Button (Mobile) -->
            <button @click="cartOpen = !cartOpen" class="relative px-4 py-3 text-left font-medium rounded-lg overflow-hidden group flex items-center justify-between">
                <span class="relative z-10">Shopping Cart</span>
                <span x-text="cart.reduce((sum, item) => sum + item.quantity, 0)" 
                      class="bg-gradient-to-br from-red-500 to-pink-600 text-white text-xs px-2 py-1 rounded-full font-bold">
                </span>
                <span class="absolute inset-0 bg-gradient-to-r from-gray-200 to-gray-300 dark:from-gray-700 dark:to-gray-600 opacity-0 group-hover:opacity-20 transition-opacity duration-300 -z-1"></span>
            </button>
        </nav>
    </div>
</header>

<!-- Hero Section - Start -->
<section class="hero-section relative min-h-screen flex items-center py-12 px-4 overflow-hidden" style="background: linear-gradient(135deg, #000000 0%, #111111 100%);">
    <!-- Background Elements -->
    <div class="absolute inset-0 bg-black opacity-90 z-0"></div>
    
    <!-- Background Pattern -->
    <div class="absolute inset-0 z-0 opacity-5">
        <div class="h-full w-full" style="background-image: linear-gradient(#facc15 1px, transparent 1px), linear-gradient(to right, #facc15 1px, transparent 1px); background-size: 50px 50px;"></div>
    </div>
    
    <!-- Main Content Container -->
    <div class="container mx-auto relative z-10">
        <div class="flex flex-col lg:flex-row items-center justify-between gap-8">
            <!-- Text Content -->
            <div class="w-full lg:w-1/2 text-white" id="hero-content">
                <h1 class="text-4xl md:text-5xl font-bold mb-6">
                    Championship <span class="text-[#facc15]">Performance</span>
                </h1>
                
                <p class="text-gray-300 text-lg mb-8 max-w-lg">
                    Engineered for victory, our premium jerseys combine cutting-edge technology with bold design for athletes who refuse to blend in.
                </p>
                
                <a href="#products" class="inline-block bg-[#facc15] hover:bg-[#e9bc13] text-black font-bold py-3 px-6 rounded-lg transition-all duration-300 mb-10 flex items-center gap-2 max-w-fit">
                    Shop The Collection
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd" />
                    </svg>
                </a>
                
                <!-- Stats -->
                <div class="grid grid-cols-3 gap-4">
                    <div class="text-center sm:text-left">
                        <div class="text-2xl md:text-3xl font-bold text-[#facc15]">Pro</div>
                        <div class="text-xs uppercase tracking-wider text-gray-400">Athlete Tested</div>
                    </div>
                    
                    <div class="text-center">
                        <div class="text-2xl md:text-3xl font-bold text-[#facc15]">48h</div>
                        <div class="text-xs uppercase tracking-wider text-gray-400">Express Shipping</div>
                    </div>
                    
                    <div class="text-center sm:text-right">
                        <div class="text-2xl md:text-3xl font-bold text-[#facc15]">100%</div>
                        <div class="text-xs uppercase tracking-wider text-gray-400">Performance</div>
                    </div>
                </div>
            </div>
            
            <!-- Carousel -->
            <div class="w-full lg:w-1/2 mt-8 lg:mt-0" id="carousel-container">
                <div class="relative rounded-xl overflow-hidden border border-[#facc15]/30 shadow-xl">
                    <div class="relative h-[400px] md:h-[500px]">
                        <!-- Carousel Slides -->
                        <div id="slide-1" class="carousel-slide absolute inset-0 opacity-100 transition-opacity duration-500">
                            <img src="images/61.png" alt="Blackout Performance Jersey" class="w-full h-full object-cover">
                            <div class="absolute bottom-6 left-6 bg-black/70 text-[#facc15] px-4 py-2 rounded-lg border border-[#facc15]/20">
                                Blackout Performance Jersey
                            </div>
                        </div>
                        
                        <div id="slide-2" class="carousel-slide absolute inset-0 opacity-0 transition-opacity duration-500">
                            <img src="images/1.png" alt="Gold Rush Elite Jersey" class="w-full h-full object-cover">
                            <div class="absolute bottom-6 left-6 bg-black/70 text-[#facc15] px-4 py-2 rounded-lg border border-[#facc15]/20">
                                Gold Rush Elite Jersey
                            </div>
                        </div>
                        
                        <div id="slide-3" class="carousel-slide absolute inset-0 opacity-0 transition-opacity duration-500">
                            <img src="images/62.png" alt="Stealth Pro Jersey" class="w-full h-full object-cover">
                            <div class="absolute bottom-6 left-6 bg-black/70 text-[#facc15] px-4 py-2 rounded-lg border border-[#facc15]/20">
                                Stealth Pro Jersey
                            </div>
                        </div>
                        
                        <!-- Navigation Buttons -->
                                                <div class="absolute top-1/2 left-0 right-0 transform -translate-y-1/2 flex justify-between px-4">
                            <button onclick="prevSlide()" class="bg-black/50 hover:bg-black/80 text-[#facc15] w-10 h-14 rounded flex items-center justify-center border border-[#facc15]/20">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                                </svg>
                            </button>
                            
                            <button onclick="nextSlide()" class="bg-black/50 hover:bg-black/80 text-[#facc15] w-10 h-14 rounded flex items-center justify-center border border-[#facc15]/20">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                                </svg>
                            </button>
                        </div>
                        
                        <!-- Indicators -->
                        <div class="absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-3">
                            <button onclick="goToSlide(0)" class="carousel-dot w-3 h-3 rounded-full bg-[#facc15] border border-[#facc15]/60"></button>
                            <button onclick="goToSlide(1)" class="carousel-dot w-3 h-3 rounded-full bg-white/30 border border-[#facc15]/60"></button>
                            <button onclick="goToSlide(2)" class="carousel-dot w-3 h-3 rounded-full bg-white/30 border border-[#facc15]/60"></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>



    <script>
                document.addEventListener('DOMContentLoaded', function() {
            // Carousel Elements
            const slides = document.querySelectorAll('.carousel-slide');
            const dots = document.querySelectorAll('.carousel-dot');
            let currentSlide = 0;
            let isAnimating = false;
            let autoplayInterval;
        
            // Initialize the carousel
            function initCarousel() {
                updateSlides();
                startAutoplay();
                setupEventListeners();
            }
        
            // Update slides visibility
            function updateSlides() {
                slides.forEach((slide, index) => {
                    // Set opacity based on current slide
                    slide.style.opacity = index === currentSlide ? '1' : '0';
                    // Prevent interaction with hidden slides
                    slide.style.pointerEvents = index === currentSlide ? 'auto' : 'none';
                });
        
                // Update dots
                dots.forEach((dot, index) => {
                    dot.classList.toggle('bg-[#facc15]', index === currentSlide);
                    dot.classList.toggle('bg-white/30', index !== currentSlide);
                });
            }
        
            // Navigation functions
            window.nextSlide = function() {
                if (isAnimating) return;
                isAnimating = true;
                currentSlide = (currentSlide + 1) % slides.length;
                updateSlides();
                resetAutoplay();
                setTimeout(() => { isAnimating = false; }, 500); // Match transition duration
            }
        
            window.prevSlide = function() {
                if (isAnimating) return;
                isAnimating = true;
                currentSlide = (currentSlide - 1 + slides.length) % slides.length;
                updateSlides();
                resetAutoplay();
                setTimeout(() => { isAnimating = false; }, 500); // Match transition duration
            }
        
            window.goToSlide = function(index) {
                if (isAnimating || currentSlide === index) return;
                isAnimating = true;
                currentSlide = index;
                updateSlides();
                resetAutoplay();
                setTimeout(() => { isAnimating = false; }, 500); // Match transition duration
            }
        
            // Autoplay functionality
            function startAutoplay() {
                autoplayInterval = setInterval(nextSlide, 5000); // Change slide every 5 seconds
            }
        
            function resetAutoplay() {
                clearInterval(autoplayInterval);
                startAutoplay();
            }
        
            // Setup event listeners
            function setupEventListeners() {
                // Pause autoplay on hover
                const carouselContainer = document.getElementById('carousel-container');
                if (carouselContainer) {
                    carouselContainer.addEventListener('mouseenter', () => {
                        clearInterval(autoplayInterval);
                    });
                    carouselContainer.addEventListener('mouseleave', startAutoplay);
                }
        
                // Keyboard navigation
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'ArrowLeft') {
                        prevSlide();
                    } else if (e.key === 'ArrowRight') {
                        nextSlide();
                    }
                });
        
                // Touch events for mobile
                let touchStartX = 0;
                let touchEndX = 0;
        
                carouselContainer.addEventListener('touchstart', (e) => {
                    touchStartX = e.changedTouches[0].screenX;
                }, { passive: true });
        
                carouselContainer.addEventListener('touchend', (e) => {
                    touchEndX = e.changedTouches[0].screenX;
                    handleSwipe();
                }, { passive: true });
        
                function handleSwipe() {
                    const swipeThreshold = 50;
                    const swipeLength = touchEndX - touchStartX;
        
                    if (Math.abs(swipeLength) > swipeThreshold) {
                        if (swipeLength > 0) {
                            prevSlide();
                        } else {
                            nextSlide();
                        }
                    }
                }
            }
        
            // Preload images for smooth transitions
            function preloadImages() {
                slides.forEach(slide => {
                    const img = slide.querySelector('img');
                    if (img) {
                        const src = img.getAttribute('src');
                        const preloadImg = new Image();
                        preloadImg.src = src;
                    }
                });
            }
        
            // Initialize everything
            initCarousel();
            preloadImages();
        
            // Add resize handler for responsive behavior
            window.addEventListener('resize', () => {
                updateSlides();
            });
        
            // Optional: Add loading state
            function showLoadingState() {
                const carousel = document.getElementById('carousel-container');
                if (carousel) {
                    carousel.classList.add('loading');
                    setTimeout(() => {
                        carousel.classList.remove('loading');
                    }, 1000);
                }
            }
        
            // Add loading animation when page loads
            showLoadingState();
        });
    </script>

    <!-- Products Section -->
    <section id="products" class="py-20 relative overflow-hidden" role="region" aria-labelledby="products-heading" x-data="{ 
        showFilterMenu: false,
        animating: false,
        hoveredProduct: null,
        filterOptions: {
            category: ['All', 'Sports', 'Casual', 'Team'],
            team: ['All', 'Barcelona', 'Argentina', 'Real Madrid', 'Spain', 'Germany', 'Others'],
            age: ['All', '3-5Y', '6-8Y', '9-11Y', '12-14Y'],
            rating: ['All', '4+', '4.5+', '4.8+']
        },
        debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }
    }">
        <div class="absolute inset-0 -z-10 bg-gradient-to-b from-white to-moon-50 dark:from-gray-900 dark:to-gray-800 opacity-90"></div>
        <div class="absolute top-20 left-10 w-40 h-40 bg-nebula-100 rounded-full filter blur-3xl mix-blend-multiply opacity-30 animate-float"></div>
        <div class="absolute bottom-20 right-10 w-56 h-56 bg-glow-100 rounded-full filter blur-3xl mix-blend-multiply opacity-30 animate-float animation-delay-1000"></div>
        <div class="absolute top-40 right-20 w-32 h-32 bg-stardust-light rounded-full filter blur-3xl mix-blend-multiply opacity-20 animate-spin-slow"></div>
        <div class="stars absolute inset-0 -z-5">
            <span class="absolute top-[10%] left-[15%] text-glow-500 text-2xl animate-pulse" aria-hidden="true">★</span>
            <span class="absolute top-[20%] right-[10%] text-nebula-500 text-lg animate-pulse animation-delay-700" aria-hidden="true">★</span>
            <span class="absolute bottom-[30%] left-[5%] text-moon-500 text-3xl animate-pulse animation-delay-1500" aria-hidden="true">★</span>
            <span class="absolute top-[40%] right-[30%] text-stardust-DEFAULT text-xl animate-pulse animation-delay-1000" aria-hidden="true">★</span>
            <span class="absolute bottom-[10%] right-[15%] text-comet-light text-2xl animate-pulse animation-delay-500" aria-hidden="true">★</span>
        </div>
        <div class="container mx-auto px-4 relative z-10">
            <div class="flex flex-col md:flex-row items-center justify-between mb-12">
                <div class="text-center md:text-left mb-8 md:mb-0">
                    <div class="relative inline-block">
                        <h2 id="products-heading" class="text-4xl md:text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-nebula-500 via-glow-500 to-moon-500 animate-gradient-text">Jersey Jamboree</h2>
                        <div class="absolute -bottom-3 left-0 h-2 w-24 bg-gradient-to-r from-nebula-400 to-glow-400 rounded-full"></div>
                    </div>
                    <p class="text-gray-600 dark:text-gray-300 mt-4 max-w-xl">Explore vibrant jerseys that ignite team spirit and playful adventures!</p>
                </div>
                <div class="w-full md:w-1/2 flex flex-col gap-4">
                    <div class="relative">
                        <input 
                            type="text" 
                            x-model="searchQuery" 
                            @input.debounce.300="animating = true; setTimeout(() => animating = false, 600)" 
                            placeholder="Search jerseys..." 
                            class="w-full px-4 py-3 rounded-full bg-white dark:bg-gray-700 border-2 border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-nebula-400" 
                            aria-label="Search jerseys"
                        >
                        <i class="fas fa-search absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                    </div>
                    <div class="flex flex-col sm:flex-row gap-4">
                        <div class="flex-1">
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2">Price Range</label>
                            <input 
                                type="range" 
                                min="0" 
                                max="3000" 
                                step="10" 
                                x-model="priceRange[1]" 
                                @input.debounce.300="animating = true; setTimeout(() => animating = false, 600)" 
                                class="w-full" 
                                aria-label="Price range filter"
                            >
                            <div class="flex justify-between text-sm text-gray-600 dark:text-gray-300">
                                <span>৳0</span>
                                <span x-text="'৳' + priceRange[1]"></span>
                            </div>
                        </div>
                        <div class="relative md:hidden">
                            <button 
                                @click="showFilterMenu = !showFilterMenu" 
                                class="flex items-center justify-between w-full bg-white dark:bg-gray-700 px-6 py-3 rounded-full shadow-md text-gray-700 dark:text-gray-200 font-bold"
                                aria-label="Toggle filter menu"
                                aria-expanded="false"
                                x-bind:aria-expanded="showFilterMenu.toString()"
                            >
                                <span class="flex items-center">
                                    <i class="fas fa-filter mr-2 text-nebula-500"></i>
                                    <span x-text="Object.values(activeFilters).flat().join(', ')"></span>
                                </span>
                                <i :class="showFilterMenu ? 'fas fa-chevron-up' : 'fas fa-chevron-down'" class="text-nebula-500 ml-2"></i>
                            </button>
                            <div 
                                x-show="showFilterMenu" 
                                @click.away="showFilterMenu = false"
                                x-transition
                                class="absolute top-full left-0 right-0 mt-2 bg-white dark:bg-gray-700 rounded-xl shadow-xl z-10 p-2"
                            >
                                <div class="border-b border-gray-200 dark:border-gray-600 py-2">
                                    <h4 class="text-sm font-bold text-gray-700 dark:text-gray-200 px-4">Category</h4>
                                    <template x-for="filter in filterOptions.category" :key="filter">
                                        <button 
                                            @click="toggleFilter('category', filter); showFilterMenu = false" 
                                            :class="{ 'bg-nebula-100 text-nebula-600 dark:bg-nebula-600 dark:text-white': activeFilters.category.includes(filter) || (filter === 'All' && activeFilters.category.includes('All')) }" 
                                            class="block w-full text-left px-4 py-2 rounded-lg hover:bg-nebula-50 dark:hover:bg-nebula-500 transition-colors"
                                        >
                                            <i :class="{
                                                'fas fa-futbol': filter === 'Sports',
                                                'fas fa-tshirt': filter === 'Casual',
                                                'fas fa-users': filter === 'Team',
                                                'fas fa-magic': filter === 'All'
                                            }" class="mr-2 text-nebula-500"></i>
                                            <span x-text="filter"></span>
                                        </button>
                                    </template>
                                </div>
                                <div class="border-b border-gray-200 dark:border-gray-600 py-2">
                                    <h4 class="text-sm font-bold text-gray-700 dark:text-gray-200 px-4">Team</h4>
                                    <template x-for="filter in filterOptions.team" :key="filter">
                                        <button 
                                            @click="toggleFilter('team', filter); showFilterMenu = false" 
                                            :class="{ 'bg-nebula-100 text-nebula-600 dark:bg-nebula-600 dark:text-white': activeFilters.team.includes(filter) || (filter === 'All' && activeFilters.team.includes('All')) }" 
                                            class="block w-full text-left px-4 py-2 rounded-lg hover:bg-nebula-50 dark:hover:bg-nebula-500 transition-colors"
                                        >
                                            <i class="fas fa-shield-alt mr-2 text-nebula-500"></i>
                                            <span x-text="filter"></span>
                                        </button>
                                    </template>
                                </div>
                                <div class="border-b border-gray-200 dark:border-gray-600 py-2">
                                    <h4 class="text-sm font-bold text-gray-700 dark:text-gray-200 px-4">Age</h4>
                                    <template x-for="filter in filterOptions.age" :key="filter">
                                        <button 
                                            @click="toggleFilter('age', filter); showFilterMenu = false" 
                                            :class="{ 'bg-nebula-100 text-nebula-600 dark:bg-nebula-600 dark:text-white': activeFilters.age.includes(filter) || (filter === 'All' && activeFilters.age.includes('All')) }" 
                                            class="block w-full text-left px-4 py-2 rounded-lg hover:bg-nebula-50 dark:hover:bg-nebula-500 transition-colors"
                                        >
                                            <i class="fas fa-child mr-2 text-nebula-500"></i>
                                            <span x-text="filter"></span>
                                        </button>
                                    </template>
                                </div>
                                <div class="py-2">
                                    <h4 class="text-sm font-bold text-gray-700 dark:text-gray-200 px-4">Rating</h4>
                                    <template x-for="filter in filterOptions.rating" :key="filter">
                                        <button 
                                            @click="toggleFilter('rating', filter); showFilterMenu = false" 
                                            :class="{ 'bg-nebula-100 text-nebula-600 dark:bg-nebula-600 dark:text-white': activeFilters.rating.includes(filter) || (filter === 'All' && activeFilters.rating.includes('All')) }" 
                                            class="block w-full text-left px-4 py-2 rounded-lg hover:bg-nebula-50 dark:hover:bg-nebula-500 transition-colors"
                                        >
                                            <i class="fas fa-star mr-2 text-nebula-500"></i>
                                            <span x-text="filter"></span>
                                        </button>
                                    </template>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="hidden md:flex flex-wrap gap-3 mb-8 filter-buttons">
                <div class="flex flex-wrap gap-3">
                    <div>
                        <span class="text-sm font-bold text-gray-700 dark:text-gray-200 mr-2">Category:</span>
                        <template x-for="filter in filterOptions.category" :key="filter">
                            <button 
                                @click="toggleFilter('category', filter); animating = true; setTimeout(() => animating = false, 600)"
                                :class="{ 
                                    'active': activeFilters.category.includes(filter) || (filter === 'All' && activeFilters.category.includes('All')),
                                    'scale-105 shadow-lg': activeFilters.category.includes(filter) || (filter === 'All' && activeFilters.category.includes('All'))
                                }" 
                                class="filter-btn relative overflow-hidden bg-white dark:bg-gray-700 border-2 border-transparent px-6 py-3 rounded-full text-gray-700 dark:text-gray-200 font-bold hover:border-nebula-300 dark:hover:border-nebula-500 transition-all duration-300 hover-sound group"
                                :aria-pressed="activeFilters.category.includes(filter) || (filter === 'All' && activeFilters.category.includes('All'))"
                            >
                                <span 
                                    :class="{ 'opacity-100': activeFilters.category.includes(filter) || (filter === 'All' && activeFilters.category.includes('All')), 'opacity-0': !activeFilters.category.includes(filter) && !(filter === 'All' && activeFilters.category.includes('All')) }"
                                    class="absolute inset-0 bg-gradient-to-r from-nebula-100 via-glow-100 to-moon-100 transition-opacity duration-300"></span>
                                <span class="relative flex items-center justify-center">
                                    <i :class="{
                                        'fas fa-futbol': filter === 'Sports',
                                        'fas fa-tshirt': filter === 'Casual',
                                        'fas fa-users': filter === 'Team',
                                        'fas fa-magic': filter === 'All'
                                    }" class="mr-2 text-nebula-500 transform group-hover:rotate-12 transition-transform"></i>
                                    <span x-text="filter" class="relative"></span>
                                </span>
                            </button>
                        </template>
                    </div>
                    <div>
                        <span class="text-sm font-bold text-gray-700 dark:text-gray-200 mr-2">Team:</span>
                        <template x-for="filter in filterOptions.team" :key="filter">
                            <button 
                                @click="toggleFilter('team', filter); animating = true; setTimeout(() => animating = false, 600)"
                                :class="{ 
                                    'active': activeFilters.team.includes(filter) || (filter === 'All' && activeFilters.team.includes('All')),
                                    'scale-105 shadow-lg': activeFilters.team.includes(filter) || (filter === 'All' && activeFilters.team.includes('All'))
                                }" 
                                class="filter-btn relative overflow-hidden bg-white dark:bg-gray-700 border-2 border-transparent px-6 py-3 rounded-full text-gray-700 dark:text-gray-200 font-bold hover:border-nebula-300 dark:hover:border-nebula-500 transition-all duration-300 hover-sound group"
                                :aria-pressed="activeFilters.team.includes(filter) || (filter === 'All' && activeFilters.team.includes('All'))"
                            >
                                <span 
                                    :class="{ 'opacity-100': activeFilters.team.includes(filter) || (filter === 'All' && activeFilters.team.includes('All')), 'opacity-0': !activeFilters.team.includes(filter) && !(filter === 'All' && activeFilters.team.includes('All')) }"
                                    class="absolute inset-0 bg-gradient-to-r from-nebula-100 via-glow-100 to-moon-100 transition-opacity duration-300"></span>
                                <span class="relative flex items-center justify-center">
                                    <i class="fas fa-shield-alt mr-2 text-nebula-500 transform group-hover:rotate-12 transition-transform"></i>
                                    <span x-text="filter" class="relative"></span>
                                </span>
                            </button>
                        </template>
                    </div>
                    <div>
                        <span class="text-sm font-bold text-gray-700 dark:text-gray-200 mr-2">Age:</span>
                        <template x-for="filter in filterOptions.age" :key="filter">
                            <button 
                                @click="toggleFilter('age', filter); animating = true; setTimeout(() => animating = false, 600)"
                                :class="{ 
                                    'active': activeFilters.age.includes(filter) || (filter === 'All' && activeFilters.age.includes('All')),
                                    'scale-105 shadow-lg': activeFilters.age.includes(filter) || (filter === 'All' && activeFilters.age.includes('All'))
                                }" 
                                class="filter-btn relative overflow-hidden bg-white dark:bg-gray-700 border-2 border-transparent px-6 py-3 rounded-full text-gray-700 dark:text-gray-200 font-bold hover:border-nebula-300 dark:hover:border-nebula-500 transition-all duration-300 hover-sound group"
                                :aria-pressed="activeFilters.age.includes(filter) || (filter === 'All' && activeFilters.age.includes('All'))"
                            >
                                <span 
                                    :class="{ 'opacity-100': activeFilters.age.includes(filter) || (filter === 'All' && activeFilters.age.includes('All')), 'opacity-0': !activeFilters.age.includes(filter) && !(filter === 'All' && activeFilters.age.includes('All')) }"
                                    class="absolute inset-0 bg-gradient-to-r from-nebula-100 via-glow-100 to-moon-100 transition-opacity duration-300"></span>
                                <span class="relative flex items-center justify-center">
                                    <i class="fas fa-child mr-2 text-nebula-500 transform group-hover:rotate-12 transition-transform"></i>
                                    <span x-text="filter" class="relative"></span>
                                </span>
                            </button>
                        </template>
                    </div>
                    <div>
                        <span class="text-sm font-bold text-gray-700 dark:text-gray-200 mr-2">Rating:</span>
                        <template x-for="filter in filterOptions.rating" :key="filter">
                            <button 
                                @click="toggleFilter('rating', filter); animating = true; setTimeout(() => animating = false, 600)"
                                :class="{ 
                                    'active': activeFilters.rating.includes(filter) || (filter === 'All' && activeFilters.rating.includes('All')),
                                    'scale-105 shadow-lg': activeFilters.rating.includes(filter) || (filter === 'All' && activeFilters.rating.includes('All'))
                                }" 
                                class="filter-btn relative overflow-hidden bg-white dark:bg-gray-700 border-2 border-transparent px-6 py-3 rounded-full text-gray-700 dark:text-gray-200 font-bold hover:border-nebula-300 dark:hover:border-nebula-500 transition-all duration-300 hover-sound group"
                                :aria-pressed="activeFilters.rating.includes(filter) || (filter === 'All' && activeFilters.rating.includes('All'))"
                            >
                                <span 
                                    :class="{ 'opacity-100': activeFilters.rating.includes(filter) || (filter === 'All' && activeFilters.rating.includes('All')), 'opacity-0': !activeFilters.rating.includes(filter) && !(filter === 'All' && activeFilters.rating.includes('All')) }"
                                    class="absolute inset-0 bg-gradient-to-r from-nebula-100 via-glow-100 to-moon-100 transition-opacity duration-300"></span>
                                <span class="relative flex items-center justify-center">
                                    <i class="fas fa-star mr-2 text-nebula-500 transform group-hover:rotate-12 transition-transform"></i>
                                    <span x-text="filter" class="relative"></span>
                                </span>
                            </button>
                        </template>
                    </div>
                </div>
            </div>
            <div 
                class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6" 
                id="product-grid"
                x-transition
            >
                <template x-for="product in [
                    { name: 'Barça Striker Jersey', price: 1790, oldPrice: 2290, colors: ['nebula-500', 'glow-500', 'moon-500'], category: 'Sports', badge: 'New', image: 'images/1.png', age: '4-8Y', rating: 4.6, features: ['Breathable Mesh', 'Quick-Dry Fabric', 'Bold Prints'], team: 'Barcelona' },
                    {name: 'Bangladesh Pride Jersey',price: 1490,oldPrice: 1890,colors: ['stardust-500', 'comet-500', 'nebula-300'],category: 'Team',badge: 'New',image: 'images/52.png',age: '6-12Y',rating: 4.7,features: ['Eco-Friendly Fabric', 'Bold Design', 'Team Spirit'],team: 'Bangladesh'},
                    { name: 'Barça Flame Jersey', price: 1690, oldPrice: 2090, colors: ['nebula-400', 'glow-400', 'stardust-400'], category: 'Sports', badge: 'Trending', image: 'images/2.png', age: '5-9Y', rating: 4.5, features: ['Recycled Polyester', 'UV Protection', 'Stretch Fabric'], team: 'Barcelona' },
                    
                    { 
                        name: 'Arsenal Victory Jersey', 
                        price: 1590, 
                        oldPrice: 1990, 
                        colors: ['nebula-500', 'glow-500', 'stardust-500'], 
                        category: 'Team', 
                        badge: 'New', 
                        image: 'images/51.png', 
                        age: '5-10Y', 
                        rating: 4.6, 
                        features: ['Lightweight Fabric', 'Bold Design', 'Team Spirit'], 
                        team: 'Arsenal' 
                    },
                    { name: 'Barça Galaxy Jersey', price: 1890, oldPrice: 2390, colors: ['nebula-600', 'glow-600', 'stardust-dark'], category: 'Sports', badge: 'Eco-Friendly', image: 'images/13.png', age: '6-10Y', rating: 4.7, features: ['Dynamic Stripes', 'Flexible Fit', 'Anti-Slip Grip'], team: 'Barcelona' },
                    { name: 'Barça Blaze Jersey', price: 1790, oldPrice: 2190, colors: ['nebula-700', 'glow-700', 'moon-700'], category: 'Sports', badge: 'Popular', image: 'images/3.png', age: '5-10Y', rating: 4.8, features: ['Bold Design', 'Sweat-Wicking', 'Durable Stitching'], team: 'Barcelona' },
                    { name: 'Argentina Chill Jersey', price: 1590, oldPrice: 1990, colors: ['stardust-500', 'comet-500', 'nebula-300'], category: 'Casual', badge: '20% Off', image: 'images/28.png', age: '3-7Y', rating: 4.7, features: ['Soft Cotton Blend', 'Relaxed Fit', 'Fun Patterns'], team: 'Argentina' },
                    { name: 'Spain Classic Jersey', price: 1690, oldPrice: 2090, colors: ['stardust-500', 'comet-500', 'nebula-300'], category: 'Team', badge: 'Popular', image: 'images/44.png', age: '5-9Y', rating: 4.6, features: ['Soft Cotton Blend', 'Relaxed Fit', 'Fun Patterns'], team: 'Spain' },
                    { name: 'Argentina Blue Jersey', price: 1490, oldPrice: 1890, colors: ['moon-600', 'nebula-700', 'comet-600'], category: 'Casual', badge: 'New', image: 'images/29.png', age: '4-8Y', rating: 4.4, features: ['Lightweight', 'Vivid Colors', 'Casual Comfort'], team: 'Argentina' },
                    { 
                        name: 'Brazil Victory Jersey', 
                        price: 1590, 
                        oldPrice: 1990, 
                        colors: ['nebula-500', 'glow-500', 'stardust-500'], 
                        category: 'Team', 
                        badge: 'New', 
                        image: 'images/48.png', 
                        age: '5-10Y', 
                        rating: 4.6, 
                        features: ['Lightweight Fabric', 'Bold Design', 'Team Spirit'], 
                        team: 'Brazil' 
                    },
                    { name: 'Argentina Cool Jersey', price: 1390, oldPrice: 1790, colors: ['stardust-light', 'nebula-300', 'comet-light'], category: 'Casual', badge: 'Popular', image: 'images/30.png', age: '3-6Y', rating: 4.3, features: ['All-Day Comfort', 'Playful Graphics', 'Easy Wash'], team: 'Argentina' },
                     { name: 'Special Customization Kit', price: 1000, oldPrice: 1890, colors: ['stardust-500', 'comet-500', 'nebula-300'], category: 'Casual', badge: '20% Off', image: 'images/55.png', age: '12-14Y', rating: 4.4, features: ['Soft Cotton Blend', 'Relaxed Fit', 'Fun Patterns'], team: 'Others' },
                    { name: 'Argentina Victory Jersey', price: 1690, oldPrice: 2090, colors: ['nebula-500', 'glow-500', 'moon-500'], category: 'Casual', badge: 'Limited', image: 'images/31.png', age: '5-9Y', rating: 4.6, features: ['Breathable Fabric', 'Vivid Prints', 'Flexible Fit'], team: 'Argentina' },
                    { name: 'Madrid Titan Jersey', price: 1990, oldPrice: 2490, colors: ['moon-500', 'gray-700', 'glow-400'], category: 'Team', badge: 'Best Seller', image: 'images/39.png', age: '6-10Y', rating: 4.8, features: ['Customizable Name', 'Durable Stitching', 'Team Logo'], team: 'Real Madrid' },
                    { name: 'Madrid Victory Jersey', price: 1890, oldPrice: 2390, colors: ['stardust-DEFAULT', 'nebula-400', 'comet-light'], category: 'Team', badge: 'Limited', image: 'images/40.png', age: '6-12Y', rating: 4.9, features: ['Embroidered Logo', 'Sweat-Wicking', 'Bold Design'], team: 'Real Madrid' },
                    { name: 'Madrid Glory Jersey', price: 2090, oldPrice: 2590, colors: ['nebula-600', 'glow-600', 'moon-600'], category: 'Team', badge: 'Trending', image: 'images/41.png', age: '7-12Y', rating: 4.9, features: ['Premium Fabric', 'Dynamic Fit', 'Iconic Design'], team: 'Real Madrid' },
                    { name: 'Spain Elite Jersey', price: 1790, oldPrice: 2290, colors: ['nebula-500', 'glow-500', 'moon-500'], category: 'Team', badge: 'New', image: 'images/43.png', age: '6-10Y', rating: 4.7, features: ['Breathable Mesh', 'Quick-Dry Fabric', 'Bold Prints'], team: 'Spain' },
                    
                    { name: 'Germany Power Jersey', price: 1890, oldPrice: 2390, colors: ['moon-500', 'gray-700', 'glow-400'], category: 'Team', badge: 'Best Seller', image: 'images/45.png', age: '6-12Y', rating: 4.8, features: ['Customizable Name', 'Durable Stitching', 'Team Logo'], team: 'Germany' },
                    { name: 'Club Star Jersey', price: 1590, oldPrice: 1990, colors: ['nebula-500', 'glow-500', 'moon-500'], category: 'Sports', badge: 'New', image: 'images/46.png', age: '4-8Y', rating: 4.5, features: ['Breathable Mesh', 'Quick-Dry Fabric', 'Bold Prints'], team: 'Other Club' },
                    
                    { name: 'Barca Regular Kit', price: 1190, oldPrice: 1890, colors: ['stardust-500', 'comet-500', 'nebula-300'], category: 'Casual', badge: '20% Off', image: 'images/6.png', age: '3-7Y', rating: 4.4, features: ['Soft Cotton Blend', 'Relaxed Fit', 'Fun Patterns'], team: 'Barcelona' },
                    
                   
                    {name: 'Juventus Causual kit', price: 990, oldPrice: 1890, colors: ['stardust-500', 'comet-500', 'nebula-300'], category: 'Casual', badge: '20% Off', image: 'images/42.png', age: '12-14Y', rating: 4.4, features: ['Soft Cotton Blend', 'Relaxed Fit', 'Fun Patterns'], team: 'Others'},
                    
                    { name: 'Barca Training', price: 1490, oldPrice: 1890, colors: ['stardust-500', 'comet-500', 'nebula-300'], category: 'Casual', badge: '20% Off', image: 'images/25.png', age: '3-7Y', rating: 4.4, features: ['Soft Cotton Blend', 'Relaxed Fit', 'Fun Patterns'], team: 'Barcelona' },
                    
                    { name: 'Barca Limited Collection', price: 1090, oldPrice: 1890, colors: ['stardust-500', 'comet-500', 'nebula-300'], category: 'Casual', badge: '20% Off', image: 'images/9.png', age: '12-14Y', rating: 4.4, features: ['Soft Cotton Blend', 'Relaxed Fit', 'Fun Patterns'], team: 'Barcelona' },
                    
                    
                
                {
                    name: 'Cosmic Kick Jersey',
                    price: 1690,
                    oldPrice: 2090,
                    colors: ['nebula-500', 'glow-500', 'stardust-500'],
                    category: 'Sports',
                    badge: 'New',
                    image: 'images/19.png',
                    age: '5-9Y',
                    rating: 4.5,
                    features: ['Breathable Fabric', 'Vivid Prints', 'Flexible Fit'],
                    team: 'Custom',
                  },
                  {
                    name: 'Barca White Jersey',
                    price: 1590,
                    oldPrice: 1990,
                    colors: ['glow-400', 'comet-light', 'moon-300'],
                    category: 'Casual',
                    badge: 'Popular',
                    image: 'images/20.png',
                    age: '4-7Y',
                    rating: 4.6,
                    features: ['Soft Cotton', 'Colorful Patterns', 'Easy Wash'],
                    team: 'Custom',
                  },
                  {
                    name: 'Bangladesh Cricket Jersey',
                    price: 1590,
                    oldPrice: 1990,
                    colors: ['glow-400', 'comet-light', 'moon-300'],
                    category: 'Casual',
                    badge: 'Popular',
                    image: 'images/50.png',
                    age: '4-7Y',
                    rating: 4.6,
                    features: ['Soft Cotton', 'Colorful Patterns', 'Easy Wash'],
                    team: 'Custom',
                  },
                  {
                    name: 'Barca blue Jersey',
                    price: 1590,
                    oldPrice: 1990,
                    colors: ['glow-400', 'comet-light', 'moon-300'],
                    category: 'Casual',
                    badge: 'Popular',
                    image: 'images/16.png',
                    age: '4-7Y',
                    rating: 4.6,
                    features: ['Soft Cotton', 'Colorful Patterns', 'Easy Wash'],
                    team: 'Custom',
                  },
                {
                    name: 'Barça Dynamic Jersey',
                    price: 1790,
                    oldPrice: 2290,
                    colors: ['nebula-500', 'glow-500', 'moon-500'],
                    category: 'Sports',
                    badge: 'New',
                    image: 'images/6.png',
                    age: '5-9Y',
                    rating: 4.7,
                    features: ['Breathable Fabric', 'Dynamic Fit', 'Bold Design'],
                    team: 'Barcelona'
                },
                {
                    name: 'Barça Energy Jersey',
                    price: 1690,
                    oldPrice: 2090,
                    colors: ['nebula-400', 'glow-400', 'stardust-400'],
                    category: 'Sports',
                    badge: 'Trending',
                    image: 'images/7.png',
                    age: '6-10Y',
                    rating: 4.6,
                    features: ['Eco-Friendly Fabric', 'Quick-Dry', 'Vivid Colors'],
                    team: 'Barcelona'
                },
                {
                    name: 'Barça Star Jersey',
                    price: 1890,
                    oldPrice: 2390,
                    colors: ['nebula-600', 'glow-600', 'stardust-dark'],
                    category: 'Sports',
                    badge: 'Popular',
                    image: 'images/27.png',
                    age: '7-12Y',
                    rating: 4.8,
                    features: ['Premium Material', 'UV Protection', 'Dynamic Stripes'],
                    team: 'Barcelona'
                },
                {
                    name: 'Classic Team Jersey',
                    price: 1490,
                    oldPrice: 1890,
                    colors: ['stardust-500', 'comet-500', 'nebula-300'],
                    category: 'Casual',
                    badge: 'Limited',
                    image: 'images/38.png',
                    age: '4-8Y',
                    rating: 4.5,
                    features: ['Soft Cotton', 'Relaxed Fit', 'Easy Wash'],
                    team: 'General'
                },
                {
                    name: 'FC Bayern Jersey',
                    price: 1790,
                    oldPrice: 2290,
                    colors: ['nebula-500', 'glow-500', 'moon-500'],
                    category: 'Team',
                    badge: 'New',
                    image: 'images/53.png',
                    age: '6-10Y',
                    rating: 4.7,
                    features: ['Breathable Fabric', 'Dynamic Fit', 'Bold Design'],
                    team: 'FC Bayern'
                },
                {
                    name: 'Inter Miami Jersey',
                    price: 1690,
                    oldPrice: 2090,
                    colors: ['nebula-400', 'glow-400', 'stardust-400'],
                    category: 'Team',
                    badge: 'Trending',
                    image: 'images/54.png',
                    age: '5-9Y',
                    rating: 4.6,
                    features: ['Eco-Friendly Fabric', 'Quick-Dry', 'Vivid Colors'],
                    team: 'Inter Miami'
                },
                {
                    name: 'Barça Elite Jersey',
                    price: 1890,
                    oldPrice: 2390,
                    colors: ['nebula-600', 'glow-600', 'stardust-dark'],
                    category: 'Sports',
                    badge: 'Popular',
                    image: 'images/8.png',
                    age: '7-12Y',
                    rating: 4.8,
                    features: ['Premium Material', 'UV Protection', 'Dynamic Stripes'],
                    team: 'Barcelona'
                },
                {
                    name: 'Barça Classic Jersey',
                    price: 1490,
                    oldPrice: 1890,
                    colors: ['stardust-500', 'comet-500', 'nebula-300'],
                    category: 'Casual',
                    badge: 'Limited',
                    image: 'images/22.png',
                    age: '4-8Y',
                    rating: 4.5,
                    features: ['Soft Cotton', 'Relaxed Fit', 'Easy Wash'],
                    team: 'Barcelona'
                }
                    ].filter(product => 
                    (activeFilters.category.includes('All') || activeFilters.category.includes(product.category)) &&
                    (activeFilters.team.includes('All') || activeFilters.team.includes(product.team)) &&
                    (activeFilters.age.includes('All') || activeFilters.age.includes(product.age)) &&
                    (activeFilters.rating.includes('All') || (
                        activeFilters.rating.includes('4+') && product.rating >= 4 ||
                        activeFilters.rating.includes('4.5+') && product.rating >= 4.5 ||
                        activeFilters.rating.includes('4.8+') && product.rating >= 4.8
                    )) &&
                    product.price <= priceRange[1] &&
                    (searchQuery === '' || 
                        product.name.toLowerCase().includes(searchQuery.toLowerCase()) ||
                        product.category.toLowerCase().includes(searchQuery.toLowerCase()) ||
                        product.features.some(f => f.toLowerCase().includes(searchQuery.toLowerCase())) ||
                        product.team.toLowerCase().includes(searchQuery.toLowerCase()))
                ).slice(0, productsLoaded)" :key="product.name">
                    <div 
                        class="product-card p-6 relative group border border-yellow-500/20"
                        :data-category="product.category" 
                        @mouseenter="hoveredProduct = product.name"
                        @mouseleave="hoveredProduct = null"
                        x-transition
                        role="article"
                        :aria-label="product.name"
                    >
                        <div class="absolute -top-2 -left-2 z-10 animate-bounce-slow">
                            <span 
                                class="badge relative flex items-center justify-center w-16 h-16" 
                                :class="{
                                    'bg-nebula-500': product.badge === 'New',
                                    'bg-glow-500': product.badge === '20% Off',
                                    'bg-moon-500': product.badge === 'Best Seller',
                                    'bg-stardust-500': product.badge === 'Eco-Friendly',
                                    'bg-comet-light': product.badge === 'Limited',
                                    'bg-gradient-to-r from-glow-400 to-comet-light': product.badge === 'Trending',
                                    'bg-gradient-to-r from-nebula-400 to-stardust-DEFAULT': product.badge === 'Popular'
                                }"
                            >
                                <div class="absolute inset-0 rounded-full bg-white/10 dark:bg-gray-800/10 animate-ping-slow opacity-70"></div>
                                <div class="w-16 h-16 flex items-center justify-center rounded-full transform rotate-12 text-xs font-extrabold text-white shadow-lg">
                                    <span x-text="product.badge" class="transform -rotate-12"></span>
                                </div>
                            </span>
                        </div>
                        <span class="age-tag absolute top-3 right-3 z-10 bg-gradient-to-r from-glow-400 to-glow-500 text-white px-3 py-1 rounded-full font-bold shadow-md transform rotate-3" x-text="product.age"></span>
                        <div class="relative overflow-hidden rounded-2xl mb-3 h-64 shadow-inner">
                            <div class="absolute inset-0 bg-gradient-to-t from-gray-900/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity z-10"></div>
                            <img 
                                :src="product.image" 
                                :alt="product.name" 
                                class="w-full h-full object-cover transition-all duration-700 ease-in-out transform group-hover:scale-110 product-image"
                                loading="lazy"
                            >
                            <div class="absolute bottom-0 left-0 right-0 p-4 flex justify-center space-x-3 translate-y-full group-hover:translate-y-0 transition-transform duration-500 ease-out z-20">
                                <button 
                                    class="w-12 h-12 rounded-full bg-white dark:bg-gray-700 text-nebula-500 dark:text-nebula-400 flex items-center justify-center hover:bg-nebula-50 dark:hover:bg-nebula-600 transition shadow-lg tooltip hover-sound"
                                    data-tooltip="Quick view"
                                    @click="previewProduct = product; previewOpen = true"
                                    aria-label="Quick view"
                                >
                                    <i class="fas fa-eye"></i>
                                </button>
                                <button 
                                    class="w-12 h-12 rounded-full bg-white dark:bg-gray-700 text-glow-500 dark:text-glow-400 flex items-center justify-center hover:bg-glow-50 dark:hover:bg-glow-600 transition shadow-lg tooltip hover-sound"
                                    data-tooltip="Add to cart"
                                    @click="addToCart(product)"
                                    aria-label="Add to cart"
                                >
                                    <i class="fas fa-shopping-cart"></i>
                                </button>
                                <button 
                                    class="w-12 h-12 rounded-full bg-white dark:bg-gray-700 flex items-center justify-center hover:bg-comet-50 dark:hover:bg-comet-600 transition shadow-lg tooltip hover-sound"
                                    :class="{ 'text-comet-500': wishlist.includes(product.name), 'text-gray-400 dark:text-gray-500': !wishlist.includes(product.name) }"
                                    data-tooltip="Add to wishlist"
                                    @click="toggleWishlist(product.name)"
                                    :aria-label="wishlist.includes(product.name) ? 'Remove from wishlist' : 'Add to wishlist'"
                                >
                                    <i class="fas fa-heart"></i>
                                </button>
                            </div>
                            <div class="absolute top-0 left-0 right-0 p-3 flex flex-wrap gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-500 delay-100 z-20">
                                <template x-for="feature in product.features" :key="feature">
                                    <span class="text-xs bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm text-gray-700 dark:text-gray-200 px-2 py-1 rounded-full" x-text="feature"></span>
                                </template>
                            </div>
                        </div>
                        <div class="relative">
                            <h3 class="text-xl font-bold text-gray-900 dark:text-white group-hover:text-nebula-500 transition-colors mb-2 relative inline-block" x-text="product.name">
                                <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-nebula-400 group-hover:w-full transition-all duration-300"></span>
                            </h3>
                            <div class="flex items-center mb-2">
                                <div class="flex text-glow-500">
                                    <template x-for="i in 5" :key="i">
                                        <i :class="i <= Math.floor(product.rating) ? 'fas fa-star' : i <= product.rating ? 'fas fa-star-half-alt' : 'far fa-star'" class="text-sm"></i>
                                    </template>
                                </div>
                                <span class="text-gray-500 dark:text-gray-400 text-sm ml-2" x-text="product.rating + ' (' + Math.floor(Math.random() * 50 + 10) + ')'"></span>
                            </div>
                            <div class="flex items-center mb-3">
                                <span class="font-bold text-lg text-gray-900 dark:text-white">৳<span x-text="product.price.toLocaleString()"></span></span>
                                <span class="line-through text-gray-400 dark:text-gray-500 text-sm ml-2">৳<span x-text="product.oldPrice.toLocaleString()"></span></span>
                                <span 
                                    class="ml-2 text-xs font-bold px-1.5 py-0.5 rounded-md" 
                                    :class="{
                                        'bg-red-100 text-red-600 dark:bg-red-600 dark:text-white': (product.oldPrice - product.price) / product.oldPrice > 0.2,
                                        'bg-amber-100 text-amber-600 dark:bg-amber-600 dark:text-white': (product.oldPrice - product.price) / product.oldPrice <= 0.2
                                    }"
                                    x-text="Math.round((product.oldPrice - product.price) / product.oldPrice * 100) + '% OFF'"
                                ></span>
                            </div>
                            <div class="flex space-x-3 mb-4 relative">
                                <button 
                                        @click="sizeGuideOpen = true" 
                                        class="text-sm text-yellow-500 hover:text-yellow-600 dark:text-yellow-400 dark:hover:text-yellow-300 hover-sound font-bold border border-yellow-500/20 rounded-lg px-2 py-1"
                                        data-size-guide
                                    >
                                    <i class="fas fa-ruler-combined mr-1"></i> Size Guide
                                    </button>
                                <button 
                                    class="text-sm text-yellow-500 hover:text-yellow-600 dark:text-yellow-400 dark:hover:text-yellow-300 hover-sound font-bold border border-yellow-500/20 rounded-lg px-2 py-1"
                                    data-tooltip="Quick view"
                                    @click="previewProduct = product; previewOpen = true"
                                    aria-label="Quick view"
                                >
                                <span>ViewProducts</span>
                                </button>
                            </div>
                                                   <div class="flex gap-2">
                            <!-- Add to Cart Button -->
                            <button 
                                @click="addToCart(product)"
                                class="flex-1 bg-gradient-to-r from-gray-900 to-gray-800 border border-yellow-500/30 hover:from-gray-800 hover:to-gray-700 text-yellow-500 px-4 py-2 rounded-lg font-medium transform transition-all duration-300 hover:scale-105 hover:shadow-xl flex items-center justify-center group relative overflow-hidden"
                                aria-label="Add to cart"
                            >
                                <!-- Hover overlay effect -->
                                <span class="absolute inset-0 bg-white/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></span>
                                
                                <!-- Icon and text -->
                                <i class="fas fa-shopping-cart mr-2 transform group-hover:rotate-12 transition-transform"></i>
                                <span class="font-medium tracking-wide">AddCart</span>
                            </button>
                        
                            <!-- Buy Now Button -->
                            <button 
                                @click="buyNow(product)"
                                class="flex-1 bg-gradient-to-r from-gray-900 to-gray-800 border border-yellow-500/30 hover:from-gray-800 hover:to-gray-700 text-orange-500 px-4 py-2 rounded-lg font-medium transform transition-all duration-300 hover:scale-105 hover:shadow-xl flex items-center justify-center group relative overflow-hidden"
                                aria-label="Buy now"
                            >
                                <!-- Hover overlay effect -->
                                <span class="absolute inset-0 bg-white/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></span>
                                <!-- Bottom border animation -->
                                <div class="absolute bottom-0 left-0 w-full h-1 bg-gray-900 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"></div>
                                <!-- Icon and text -->
                                <i class="fas fa-bolt mr-2 transform group-hover:rotate-12 transition-transform"></i>
                                <span class="font-medium tracking-wide">BuyNow</span>
                            </button>
                        </div>

                            <!-- Size Selection -->
                            <div class="mt-4">
                                <div class="flex justify-between items-center mb-2">
                                    <span class="text-sm font-medium text-gray-700 dark:text-gray-300">Select Size</span>
                                    <template x-for="(color, index) in product.colors" :key="color">
                                        <button 
                                            class="color-dot flex-shrink-0 cursor-pointer transform transition duration-300 hover:scale-125"
                                            :class="['bg-' + color, {'scale-125 ring-2 ring-offset-2': product.name === hoveredProduct && index === 0}]"
                                            @click="selectColor($event); playSound('hover')"
                                            aria-label="Select color"
                                        ></button>
                                    </template>
                                    
                                </div>
                                <div class="flex flex-wrap gap-2">
                                    <template x-for="size in ['XS', 'S', 'M', 'L', 'XL']">
                                        <button 
                                            class="size-btn px-3 py-1 rounded-lg transition-all duration-300"
                                            :class="{ 'selected': product.selectedSize === size }"
                                            @click="selectSize(product, size)"
                                            x-text="size"
                                        ></button>
                                    </template>
                                </div>
                            </div>
                        </div>
                    </div>
                </template>
            </div>
            <div class="text-center mt-12">
                <button 
                    @click="loadingMore = true; setTimeout(() => { productsLoaded += 8; loadingMore = false; }, 1000)" 
                    :disabled="productsLoaded >= totalProducts" 
                    class="px-6 py-3 rounded-full bg-nebula-500 text-white font-bold hover:bg-nebula-600 transition duration-300 disabled:opacity-50 disabled:cursor-not-allowed"
                >
                    <span x-show="!loadingMore">Load More</span>
                    <span x-show="loadingMore" class="flex items-center justify-center space-x-2">
                        <i class="fas fa-spinner animate-spin"></i>
                        <span>Loading...</span>
                    </span>
                </button>
            </div>
        </div>
    </section>


<!-- Cart Modal -->
<div id="cart-modal" class="modal fixed bottom-0 left-0 w-900px bg-white/95 backdrop-blur-lg shadow-2xl p-8 rounded-t-3xl z-50  max-h-[85vh] overflow-y-auto" :class="{ 'active': cartOpen }" x-show="cartOpen">
    <div class="flex justify-between items-center mb-8">
        <h3 class="text-3xl font-bold text-gray-900">Your Team Cart</h3>
        <button @click="cartOpen = false" class="hover-sound"><i class="fas fa-times text-2xl text-gray-600 hover:text-comet-500"></i></button>
    </div>
    <div class="space-y-6">
        <template x-for="(item, index) in cart" :key="item.name">
            <div class="flex justify-between items-center border-b py-4">
                <div class="flex items-center space-x-4">
                    <img :src="item.image" :alt="item.name" class="w-16 h-16 object-cover rounded-lg">
                    <div>
                        <h4 class="text-lg font-semibold text-gray-900" x-text="item.name"></h4>
                        <p class="text-sm text-gray-600">৳<span x-text="(item.price * item.quantity).toLocaleString()"></span></p>
                        <div class="flex items-center space-x-2 mt-1">
                            <button @click="cart[index].quantity--; if (cart[index].quantity === 0) cart.splice(index, 1); localStorage.setItem('cart', JSON.stringify(cart))" class="bg-gray-200 px-2 py-1 rounded hover-sound">-</button>
                            <span x-text="item.quantity"></span>
                            <button @click="cart[index].quantity++; localStorage.setItem('cart', JSON.stringify(cart))" class="bg-gray-200 px-2 py-1 rounded hover-sound">+</button>
                        </div>
                    </div>
                </div>
                <button @click="cart.splice(index, 1); localStorage.setItem('cart', JSON.stringify(cart))" class="text-comet-500 hover:text-comet-700 hover-sound"><i class="fas fa-trash"></i></button>
            </div>
        </template>
    </div>
    <div class="mt-8">
        <p class="text-xl font-semibold text-gray-900">Total: ৳<span x-text="cart.reduce((sum, item) => sum + item.price * item.quantity, 0).toLocaleString()"></span></p>
        <p class="text-sm text-gray-600 mt-2">Team Points: <span x-text="rewardPoints"></span></p>
        <a ref="https://forms.gle/HiTgjeJCPw7jD76s8" class="text-sm text-gray-600 hover:text-nebula-500 hover-sound">
            <button class="bg-gradient-to-r from-nebula-500 to-glow-500 text-white px-5 py-3 rounded-lg font-bold w-full mt-4 hover:from-nebula-600 hover:to-glow-600  hover-sound">
                Proceed to Checkout
            </button>
        </a>
        
    </div>
</div>


<!-- Enhanced Product Preview Modal -->
<div id="preview-modal" class="fixed inset-0 z-50 overflow-y-auto bg-black/30 backdrop-filter backdrop-blur-md"
    x-show="previewOpen" x-cloak 
    x-transition:enter="transition ease-out duration-300" 
    x-transition:enter-start="opacity-0" 
    x-transition:enter-end="opacity-100" 
    x-transition:leave="transition ease-in duration-200" 
    x-transition:leave-start="opacity-100" 
    x-transition:leave-end="opacity-0">
    
    <div class="flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0">
        <!-- Backdrop -->
        <div class="fixed inset-0 transition-opacity" @click="previewOpen = false"></div>
        
        <!-- Modal Content -->
        <div class="inline-block align-bottom bg-white rounded-2xl text-left overflow-hidden shadow-2xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full dark:bg-gray-900"
            x-transition:enter="transition ease-out duration-300" 
            x-transition:enter-start="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95" 
            x-transition:enter-end="opacity-100 translate-y-0 sm:scale-100" 
            x-transition:leave="transition ease-in duration-200" 
            x-transition:leave-start="opacity-100 translate-y-0 sm:scale-100" 
            x-transition:leave-end="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95">
            
            <!-- Close Button -->
            <div class="absolute top-0 right-0 pt-4 pr-4 z-10">
                <button @click="previewOpen = false" class="text-gray-400 hover:text-gray-600 transition focus:outline-none focus:ring-2 focus:ring-nebula-400 focus:ring-offset-2 rounded-full p-1.5 bg-white/80 backdrop-blur-sm shadow-md dark:bg-gray-800/80 dark:hover:text-gray-300">
                    <i class="fas fa-times text-lg"></i>
                </button>
            </div>
            
            <!-- Modal Body -->
            <div class="sm:flex">
                <!-- Left: Product Image Gallery -->
                <div class="sm:w-1/2 p-6" x-data="{ currentImageIndex: 0 }">
                    <div class="relative bg-gray-100 dark:bg-gray-800">
                        <!-- Main Image -->
                        <div class="relative h-74 sm:h-96 overflow-hidden">
                            <template x-for="(image, index) in previewProduct?.images || [previewProduct?.image]" :key="index">
                                <div x-show="currentImageIndex === index"
                                    x-transition:enter="transition ease-out duration-300"
                                    x-transition:enter-start="opacity-0 scale-95"
                                    x-transition:enter-end="opacity-100 scale-100"
                                    x-transition:leave="transition ease-in duration-200"
                                    x-transition:leave-start="opacity-100 scale-100"
                                    x-transition:leave-end="opacity-0 scale-95"
                                    class="absolute inset-0">
                                    <img :src="image" :alt="previewProduct?.name + ' image ' + (index + 1)" 
                                        class="w-full h-full object-cover" 
                                        @click="$dispatch('open-fullscreen-gallery', {startIndex: currentImageIndex})">
                                </div>
                            </template>
                            
                            <!-- Image Navigation -->
                            <button class="absolute left-2 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white text-gray-800 p-2 rounded-full shadow-lg backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-nebula-400 z-10 transition dark:bg-gray-800/80 dark:hover:bg-gray-800 dark:text-gray-200"
                                x-show="(previewProduct?.images || [previewProduct?.image]).length > 1"
                                @click="currentImageIndex = (currentImageIndex - 1 + (previewProduct?.images || [previewProduct?.image]).length) % (previewProduct?.images || [previewProduct?.image]).length">
                                <i class="fas fa-chevron-left"></i>
                            </button>
                            
                            <button class="absolute right-2 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white text-gray-800 p-2 rounded-full shadow-lg backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-nebula-400 z-10 transition dark:bg-gray-800/80 dark:hover:bg-gray-800 dark:text-gray-200"
                                x-show="(previewProduct?.images || [previewProduct?.image]).length > 1"
                                @click="currentImageIndex = (currentImageIndex + 1) % (previewProduct?.images || [previewProduct?.image]).length">
                                <i class="fas fa-chevron-right"></i>
                            </button>
                            
                            <!-- Zoom & Full Screen -->
                            <button class="absolute bottom-2 right-2 bg-white/80 hover:bg-white text-gray-800 p-2 rounded-full shadow-lg backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-nebula-400 z-10 transition dark:bg-gray-800/80 dark:hover:bg-gray-800 dark:text-gray-200"
                                @click="$dispatch('open-fullscreen-gallery', {startIndex: currentImageIndex})">
                                <i class="fas fa-expand"></i>
                            </button>
                        </div>
                        
                        <!-- Thumbnail Navigation -->
                        <div class="flex justify-center mt-2 space-x-2 px-2 pb-2" x-show="(previewProduct?.images || [previewProduct?.image]).length > 1">
                            <template x-for="(image, index) in previewProduct?.images || [previewProduct?.image]" :key="index">
                                <button 
                                    @click="currentImageIndex = index"
                                    class="w-16 h-16 rounded-md overflow-hidden transition-all duration-200 focus:outline-none"
                                    :class="currentImageIndex === index ? 'ring-2 ring-nebula-500 opacity-100 scale-105' : 'opacity-70 hover:opacity-100'">
                                    <img :src="image" :alt="previewProduct?.name + ' thumbnail ' + (index + 1)" class="w-full h-full object-cover">
                                </button>
                            </template>
                        </div>
                        
                        <!-- Product Badge -->
                        <div class="absolute top-2 left-2" x-show="previewProduct?.badge">
                            <span class="badge text-sm font-medium px-3 py-1.5 rounded-full shadow-md" 
                                :class="{
                                    'bg-nebula-500 text-white': previewProduct?.badge === 'New',
                                    'bg-glow-500 text-white': previewProduct?.badge === '20% Off',
                                    'bg-moon-500 text-white': previewProduct?.badge === 'Best Seller',
                                    'bg-stardust-500 text-white': previewProduct?.badge === 'Eco-Friendly'
                                }" x-text="previewProduct?.badge"></span>
                        </div>
                        
                    </div>
                    <!-- Product Details - Accordion -->
                    <div class="border-t border-gray-200 dark:border-gray-700">
                        <div x-data="{ open: true }">
                            <button @click="open = !open" class="flex justify-between items-center w-full py-3 text-left focus:outline-none">
                                <span class="text-sm font-medium text-gray-800 dark:text-gray-200">Product Details</span>
                                <i :class="open ? 'fa-chevron-up' : 'fa-chevron-down'" class="fas text-gray-500 text-xs transition-transform"></i>
                            </button>
                            <div x-show="open" x-transition:enter="transition ease-out duration-200" x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100">
                                <p class="text-sm text-gray-600 mb-3 dark:text-gray-400" x-text="previewProduct?.description || 'No description available.'"></p>
                                <ul class="space-y-1 text-sm text-gray-600 dark:text-gray-400">
                                    <template x-for="feature in previewProduct?.features" :key="feature">
                                        <li class="flex items-center">
                                            <i class="fas fa-check-circle text-nebula-500 mr-2"></i>
                                            <span x-text="feature"></span>
                                        </li>
                                    </template>
                                </ul>
                            </div>
                        </div>
                        
                        <div x-data="{ open: false }" class="border-t border-gray-200 dark:border-gray-700">
                            <button @click="open = !open" class="flex justify-between items-center w-full py-3 text-left focus:outline-none">
                                <span class="text-sm font-medium text-gray-800 dark:text-gray-200">Specifications</span>
                                <i :class="open ? 'fa-chevron-up' : 'fa-chevron-down'" class="fas text-gray-500 text-xs transition-transform"></i>
                            </button>
                            <div x-show="open" x-transition:enter="transition ease-out duration-200" x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100">
                                <div class="space-y-3">
                                    <template x-for="(spec, group) in previewProduct?.specifications || {}" :key="group">
                                        <div>
                                            <h4 class="text-xs font-medium text-gray-500 uppercase tracking-wider mb-1 dark:text-gray-400" x-text="group"></h4>
                                            <div class="space-y-2">
                                                <template x-for="(value, key) in spec" :key="key">
                                                    <div class="flex">
                                                        <span class="text-xs text-gray-500 w-1/3 dark:text-gray-400" x-text="key"></span>
                                                        <span class="text-xs text-gray-800 w-2/3 dark:text-gray-300" x-text="value"></span>
                                                    </div>
                                                </template>
                                            </div>
                                        </div>
                                    </template>
                                </div>
                            </div>
                        </div>
                        
                        <div x-data="{ open: false }" class="border-t border-gray-200 dark:border-gray-700">
                            <button @click="open = !open" class="flex justify-between items-center w-full py-3 text-left focus:outline-none">
                                <span class="text-sm font-medium text-gray-800 dark:text-gray-200">Delivery & Returns</span>
                                <i :class="open ? 'fa-chevron-up' : 'fa-chevron-down'" class="fas text-gray-500 text-xs transition-transform"></i>
                            </button>
                            <div x-show="open" x-transition:enter="transition ease-out duration-200" x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100">
                                <ul class="space-y-2 text-sm text-gray-600 dark:text-gray-400">
                                    <li class="flex items-start">
                                        <i class="fas fa-truck text-nebula-500 mr-2 mt-1"></i>
                                        <span>Free shipping on orders over ৳5000</span>
                                    </li>
                                    <li class="flex items-start">
                                        <i class="fas fa-undo text-nebula-500 mr-2 mt-1"></i>
                                        <span>Easy 30-day return policy</span>
                                    </li>
                                    <li class="flex items-start">
                                        <i class="fas fa-shield-alt text-nebula-500 mr-2 mt-1"></i>
                                        <span>2-year warranty on all products</span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Social Sharing -->
                    <div class="mt-6 flex items-center justify-between">
                        <span class="text-xs text-gray-500 dark:text-gray-400">Share this product:</span>
                        <div class="flex space-x-2">
                            <button class="w-8 h-8 rounded-full bg-blue-600 text-white flex items-center justify-center hover:bg-blue-700 transition">
                                <i class="fab fa-facebook-f"></i>
                            </button>
                            <button class="w-8 h-8 rounded-full bg-blue-400 text-white flex items-center justify-center hover:bg-blue-500 transition">
                                <i class="fab fa-twitter"></i>
                            </button>
                            <button class="w-8 h-8 rounded-full bg-green-500 text-white flex items-center justify-center hover:bg-green-600 transition">
                                <i class="fab fa-whatsapp"></i>
                            </button>
                            <button class="w-8 h-8 rounded-full bg-gray-200 text-gray-700 flex items-center justify-center hover:bg-gray-300 transition dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600">
                                <i class="fas fa-link"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Right: Product Details -->
                <div class="sm:w-1/2 p-6 sm:p-8 dark:bg-gray-900 dark:text-gray-100">
                    <!-- Product Header -->
                    <div class="mb-2">
                        <div class="flex items-center justify-between mb-1">
                            <span class="text-xs uppercase tracking-wider text-gray-500 dark:text-gray-400" x-text="previewProduct?.category || 'Category'"></span>
                            <span class="flex items-center text-xs text-green-600 dark:text-green-400" x-show="previewProduct?.availability?.status === 'In Stock'">
                                <i class="fas fa-check-circle mr-1"></i>
                                <span x-text="previewProduct?.availability?.quantity + ' items left'"></span>
                            </span>
                        </div>
                        <h3 class="text-2xl font-bold text-gray-900 dark:text-white" x-text="previewProduct?.name"></h3>
                        
                        <!-- Product Reference/SKU -->
                        <div class="flex items-center mt-1 mb-4">
                            <span class="text-xs text-gray-500 dark:text-gray-400">SKU: <span x-text="previewProduct?.sku || 'PROD-' + Math.floor(Math.random() * 10000)"></span></span>
                        </div>
                    </div>

                    <!-- Product Rating -->
                    <div class="flex items-center mb-4" x-data="{ reviewCount: Math.floor(Math.random() * 300 + 20) }">
                        <div class="flex text-glow-500">
                            <template x-for="i in 5" :key="i">
                                <i :class="i <= Math.floor(previewProduct?.rating) ? 'fas fa-star' : i <= previewProduct?.rating ? 'fas fa-star-half-alt' : 'far fa-star'"></i>
                            </template>
                        </div>
                        <span class="text-gray-500 text-sm ml-2 dark:text-gray-400" x-text="previewProduct?.rating + ' (' + reviewCount + ' reviews)'"></span>
                        <button class="ml-4 text-sm text-nebula-500 hover:text-nebula-600 hover:underline transition dark:text-nebula-400 dark:hover:text-nebula-300" @click="$dispatch('open-reviews-panel')"
                            x-show="reviewCount > 0">Read reviews</button>
                    </div>
                    
                    <!-- Price Section -->
                    <div class="mb-6">
                        <div class="flex items-baseline space-x-2">
                            <p class="text-3xl font-bold text-gray-900 dark:text-white">৳<span x-text="previewProduct?.price.toLocaleString()"></span></p>
                            <p class="text-lg text-gray-500 line-through dark:text-gray-400" x-show="previewProduct?.oldPrice && previewProduct?.oldPrice > previewProduct?.price">
                                <span x-text="'৳' + previewProduct?.oldPrice.toLocaleString()"></span>
                            </p>
                        </div>
                        <div class="flex items-center mt-1">
                            <span class="text-sm text-red-500 font-medium dark:text-red-400" x-show="previewProduct?.oldPrice && previewProduct?.oldPrice > previewProduct?.price">
                                <span x-text="Math.round((1 - previewProduct?.price / previewProduct?.oldPrice) * 100) + '% off'"></span>
                            </span>
                            <span class="text-xs text-gray-500 ml-2 dark:text-gray-400" x-show="previewProduct?.taxes">Inc. all taxes</span>
                        </div>
                        
                        <!-- EMI / Payment Options -->
                        <div class="mt-2 flex items-center">
                            <span class="text-sm text-gray-600 dark:text-gray-300">
                                <i class="fas fa-credit-card text-nebula-500 mr-1"></i> EMI from <span class="font-medium">৳<span x-text="Math.round(previewProduct?.price / 12).toLocaleString()"></span>/mo</span>
                            </span>
                            <button class="ml-2 text-xs text-nebula-500 hover:text-nebula-600 hover:underline transition dark:text-nebula-400 dark:hover:text-nebula-300">
                                <i class="fas fa-info-circle"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Color Selection -->
                    <div class="mb-6">
                        <div class="flex items-center justify-between">
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Colors</label>
                            <span class="text-xs text-gray-500 dark:text-gray-400" x-text="'Selected: ' + (selectedColor || previewProduct?.colors?.[0] || 'Default')"></span>
                        </div>
                        <div class="flex flex-wrap gap-3" x-data="{ selectedColor: null }">
                            <template x-for="color in previewProduct?.colors" :key="color">
                                <button 
                                    class="w-10 h-10 rounded-full border-2 transition-all duration-200 flex items-center justify-center hover:scale-110"
                                    :class="selectedColor === color ? 'border-nebula-500 shadow-lg scale-110' : 'border-gray-300 dark:border-gray-600'"
                                    :style="'background-color: ' + color" 
                                    @click="selectedColor = color">
                                    <i class="fas fa-check text-white" x-show="selectedColor === color"></i>
                                </button>
                            </template>
                        </div>
                    </div>
                    
                    <!-- Size Selection -->
                    <div class="mb-6" x-data="{ selectedSize: 'M' }">
                        <div class="flex justify-between items-center mb-2">
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300">Size</label>
                            <button class="text-xs text-nebula-500 hover:text-nebula-600 flex items-center dark:text-nebula-400 dark:hover:text-nebula-300" @click="$dispatch('open-size-guide')">
                                <i class="fas fa-ruler-combined mr-1"></i> Size Guide
                            </button>
                        </div>
                        <div class="flex space-x-2">
                            <template x-for="size in ['XS', 'S', 'M', 'L', 'XL', 'XXL']" :key="size">
                                <button 
                                    class="size-btn w-12 h-12 flex items-center justify-center rounded-lg border transition-all duration-200"
                                    :class="{
                                        'bg-nebula-500 text-white border-nebula-500 shadow-md': selectedSize === size,
                                        'bg-white text-gray-700 border-gray-300 hover:border-nebula-400': selectedSize !== size,
                                        'dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:hover:border-nebula-400': selectedSize !== size && document.documentElement.classList.contains('dark'),
                                        'opacity-50 cursor-not-allowed': previewProduct?.unavailableSizes?.includes(size)
                                    }"
                                    @click="!previewProduct?.unavailableSizes?.includes(size) && (selectedSize = size)"
                                    :disabled="previewProduct?.unavailableSizes?.includes(size)"
                                    x-text="size"
                                ></button>
                            </template>
                        </div>
                    </div>
                    
                    <!-- Quantity -->
                    <div class="mb-6" x-data="{ quantity: 1 }">
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Quantity</label>
                        <div class="flex items-center">
                            <button 
                                @click="quantity > 1 && quantity--"
                                :disabled="quantity <= 1"
                                class="w-10 h-10 rounded-l-lg bg-gray-100 text-gray-600 flex items-center justify-center border border-gray-300 hover:bg-gray-200 transition dark:bg-gray-800 dark:text-gray-300 dark:border-gray-700 dark:hover:bg-gray-700"
                                :class="{ 'opacity-50 cursor-not-allowed': quantity <= 1 }">
                                <i class="fas fa-minus"></i>
                            </button>
                            <input type="number" min="1" max="99" x-model="quantity" 
                                class="w-16 h-10 border-t border-b border-gray-300 text-center focus:outline-none focus:ring-nebula-500 focus:border-nebula-500 text-gray-700 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-700">
                            <button 
                                @click="quantity < 99 && quantity++"
                                :disabled="quantity >= 99"
                                class="w-10 h-10 rounded-r-lg bg-gray-100 text-gray-600 flex items-center justify-center border border-gray-300 hover:bg-gray-200 transition dark:bg-gray-800 dark:text-gray-300 dark:border-gray-700 dark:hover:bg-gray-700"
                                :class="{ 'opacity-50 cursor-not-allowed': quantity >= 99 }">
                                <i class="fas fa-plus"></i>
                            </button>
                            
                            <div class="ml-4 text-sm text-green-600 dark:text-green-400" x-show="previewProduct?.availability?.status === 'In Stock'">
                                <template x-if="previewProduct?.availability?.quantity > 10">
                                    <span><i class="fas fa-check-circle mr-1"></i> In Stock</span>
                                </template>
                                <template x-if="previewProduct?.availability?.quantity <= 10">
                                    <span class="text-orange-500 dark:text-orange-400">
                                        <i class="fas fa-exclamation-circle mr-1"></i>
                                        <span x-text="'Only ' + previewProduct?.availability?.quantity + ' left'"></span>
                                    </span>
                                </template>
                            </div>
                            
                            <div class="ml-4 text-sm text-red-600 dark:text-red-400" x-show="previewProduct?.availability?.status === 'Out of Stock'">
                                <i class="fas fa-times-circle mr-1"></i> Out of Stock
                            </div>
                        </div>
                    </div>
                    
                    <!-- Shipping -->
                    <div class="mb-6">
                        <div class="flex items-center">
                            <i class="fas fa-shipping-fast text-nebula-500 mr-2"></i>
                            <span class="text-sm font-medium text-gray-700 dark:text-gray-300">Shipping</span>
                        </div>
                        <div class="mt-2 bg-gray-50 rounded-lg p-3 dark:bg-gray-800">
                            <div class="flex items-center justify-between mb-1">
                                <span class="text-sm text-gray-600 dark:text-gray-400">Express Delivery</span>
                                <span class="text-sm font-medium text-gray-800 dark:text-gray-200">৳120</span>
                            </div>
                            <p class="text-xs text-gray-500 dark:text-gray-400">
                                <i class="far fa-calendar-alt mr-1"></i> Delivery by 
                                <span class="font-medium" x-text="(() => {
                                    const date = new Date();
                                    date.setDate(date.getDate() + 2);
                                    return date.toLocaleDateString('en-US', {day: 'numeric', month: 'short'});
                                })()"></span>
                            </p>
                            <div class="flex mt-2 items-center">
                                <i class="fas fa-map-marker-alt text-gray-500 mr-1"></i>
                                <input type="text" placeholder="Enter pincode" 
                                    class="text-xs px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-nebula-500 focus:border-nebula-500 text-gray-700 bg-white w-24 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300">
                                <button class="text-xs ml-2 text-nebula-500 hover:text-nebula-600 dark:text-nebula-400">Check</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Action Buttons -->
                    <div class="flex space-x-3 mb-6">
                        <button 
                            class="flex-1 bg-gradient-to-r from-nebula-500 to-glow-500 hover:from-nebula-600 hover:to-glow-600 text-white py-3 rounded-lg font-bold transition-all duration-300 hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-nebula-500 flex items-center justify-center dark:focus:ring-offset-gray-900"
                            @click="addToCart(previewProduct)"
                        >
                            <i class="fas fa-shopping-cart mr-2"></i> Add to Cart
                        </button>
                        <button 
                            @click="buyNow(previewProduct)"
                            class="flex-1 bg-gradient-to-r from-moon-500 to-comet-500 text-white px-4 py-3 rounded-lg font-bold hover:from-moon-600 hover:to-comet-600 transform transition duration-300 hover:scale-105 hover:shadow-xl flex items-center justify-center space-x-2 group focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-moon-500 dark:focus:ring-offset-gray-900"
                            aria-label="Buy now"
                        >
                            <i class="fas fa-bolt transform group-hover:rotate-12 transition-transform"></i>
                            <span>Buy Now</span>
                        </button>
                        <button 
                            class="w-12 h-12 rounded-lg bg-white text-comet-500 flex items-center justify-center hover:bg-comet-50 transition shadow border border-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-comet-500 dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700 dark:focus:ring-offset-gray-900"
                            :class="{ 'text-red-500 dark:text-red-400': wishlist.includes(previewProduct?.name), 'text-gray-400 dark:text-gray-500': !wishlist.includes(previewProduct?.name) }"
                            @click="toggleWishlist(previewProduct?.name)"
                        >
                            <i class="fas fa-heart" :class="{ 'fas': wishlist.includes(previewProduct?.name), 'far': !wishlist.includes(previewProduct?.name) }"></i>
                        </button>
                    </div>
                    
                    
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Product Image Full Screen Gallery (shows when clicking image or expand button) -->
<div id="fullscreen-gallery" class="fixed inset-0 z-60 bg-black/95" 
    x-show="fullscreenGalleryOpen" 
    x-cloak
    @open-fullscreen-gallery.window="
        fullscreenGalleryOpen = true; 
        fullscreenCurrentIndex = $event.detail.startIndex || 0;
    "
    x-transition:enter="transition ease-out duration-300" 
    x-transition:enter-start="opacity-0" 
    x-transition:enter-end="opacity-100" 
    x-transition:leave="transition ease-in duration-200" 
    x-transition:leave-start="opacity-100" 
    x-transition:leave-end="opacity-0"
    @keydown.escape="fullscreenGalleryOpen = false"
    x-data="{ 
        fullscreenGalleryOpen: false,
        fullscreenCurrentIndex: 0,
        fullscreenZoom: false,
        fullscreenSlideshow: false,
        slideshowInterval: null,
        startSlideshow() {
            this.fullscreenSlideshow = true;
            this.slideshowInterval = setInterval(() => {
                this.fullscreenCurrentIndex = (this.fullscreenCurrentIndex + 1) % (previewProduct?.images || [previewProduct?.image]).length;
            }, 3000);
        },
        stopSlideshow() {
            this.fullscreenSlideshow = false;
            clearInterval(this.slideshowInterval);
        }
    }">
    
    <!-- Close Button -->
    <div class="absolute top-4 right-4 z-10">
        <button @click="fullscreenGalleryOpen = false; stopSlideshow()" class="text-white bg-gray-900/50 hover:bg-gray-900/70 p-2 rounded-full backdrop-blur-sm transition">
            <i class="fas fa-times text-xl"></i>
        </button>
    </div>
    
    <!-- Controls -->
    <div class="absolute top-4 left-4 z-10 space-x-2 flex">
        <button @click="fullscreenZoom = !fullscreenZoom" class="text-white bg-gray-900/50 hover:bg-gray-900/70 p-2 rounded-full backdrop-blur-sm transition flex items-center"
            :class="{'bg-nebula-500/80 hover:bg-nebula-500': fullscreenZoom}">
            <i class="fas" :class="fullscreenZoom ? 'fa-search-minus' : 'fa-search-plus'"></i>
        </button>
        <button @click="fullscreenSlideshow ? stopSlideshow() : startSlideshow()" class="text-white bg-gray-900/50 hover:bg-gray-900/70 p-2 rounded-full backdrop-blur-sm transition flex items-center"
            :class="{'bg-nebula-500/80 hover:bg-nebula-500': fullscreenSlideshow}">
            <i class="fas" :class="fullscreenSlideshow ? 'fa-pause' : 'fa-play'"></i>
        </button>
    </div>
    
    <!-- Image Counter -->
    <div class="absolute top-4 left-1/2 transform -translate-x-1/2 bg-gray-900/70 px-3 py-1 rounded-full text-white text-sm backdrop-blur-sm">
        <span x-text="fullscreenCurrentIndex + 1"></span> / <span x-text="(previewProduct?.images || [previewProduct?.image]).length"></span>
    </div>
    
    <!-- Main Image Container -->
    <div class="absolute inset-0 flex items-center justify-center">
        <template x-for="(image, index) in previewProduct?.images || [previewProduct?.image]" :key="index">
            <div class="absolute inset-0 flex items-center justify-center"
                x-show="fullscreenCurrentIndex === index"
                x-transition:enter="transition ease-out duration-300"
                x-transition:enter-start="opacity-0 scale-95"
                x-transition:enter-end="opacity-100 scale-100"
                x-transition:leave="transition ease-in duration-200"
                x-transition:leave-start="opacity-100 scale-100"
                x-transition:leave-end="opacity-0 scale-95">
                
                <img :src="image" :alt="previewProduct?.name + ' image ' + (index + 1)" 
                    class="max-h-screen max-w-screen-lg object-contain transition-transform duration-300"
                    :class="fullscreenZoom ? 'cursor-zoom-out scale-150' : 'cursor-zoom-in'"
                    @click="fullscreenZoom = !fullscreenZoom">
            </div>
        </template>
    </div>
    
    <!-- Navigation Arrows -->
    <button class="absolute left-4 top-1/2 transform -translate-y-1/2 bg-gray-900/50 hover:bg-gray-900/70 text-white p-4 rounded-full shadow-lg backdrop-blur-sm transition"
        @click="fullscreenCurrentIndex = (fullscreenCurrentIndex - 1 + (previewProduct?.images || [previewProduct?.image]).length) % (previewProduct?.images || [previewProduct?.image]).length">
        <i class="fas fa-chevron-left text-xl"></i>
    </button>
    
    <button class="absolute right-4 top-1/2 transform -translate-y-1/2 bg-gray-900/50 hover:bg-gray-900/70 text-white p-4 rounded-full shadow-lg backdrop-blur-sm transition"
        @click="fullscreenCurrentIndex = (fullscreenCurrentIndex + 1) % (previewProduct?.images || [previewProduct?.image]).length">
        <i class="fas fa-chevron-right text-xl"></i>
    </button>
    
    <!-- Thumbnails -->
    <div class="absolute bottom-6 left-1/2 transform -translate-x-1/2 flex space-x-2 justify-center">
        <template x-for="(image, index) in previewProduct?.images || [previewProduct?.image]" :key="index">
            <button 
                @click="fullscreenCurrentIndex = index"
                class="w-16 h-16 rounded-md overflow-hidden transition-all duration-200 border-2 focus:outline-none"
                :class="fullscreenCurrentIndex === index ? 'border-nebula-500 opacity-100 scale-110' : 'border-transparent opacity-70 hover:opacity-100'">
                <img :src="image" :alt="previewProduct?.name + ' thumbnail ' + (index + 1)" class="w-full h-full object-cover">
            </button>
        </template>
    </div>
</div>

<!-- Size Guide Modal -->
<div id="size-guide-modal" class="fixed inset-0 z-50 overflow-y-auto bg-black/30 backdrop-filter backdrop-blur-md"
    x-show="sizeGuideOpen" x-cloak 
    @open-size-guide.window="sizeGuideOpen = true"
    x-data="{ sizeGuideOpen: false }"
    x-transition:enter="transition ease-out duration-300" 
    x-transition:enter-start="opacity-0" 
    x-transition:enter-end="opacity-100" 
    x-transition:leave="transition ease-in duration-200" 
    x-transition:leave-start="opacity-100" 
    x-transition:leave-end="opacity-0">
    
    <div class="flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0">
        <!-- Backdrop -->
        <div class="fixed inset-0 transition-opacity" @click="sizeGuideOpen = false"></div>
        
        <!-- Modal Content -->
        <div class="inline-block align-bottom bg-white rounded-2xl text-left overflow-hidden shadow-2xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full dark:bg-gray-900"
            x-transition:enter="transition ease-out duration-300" 
            x-transition:enter-start="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95" 
            x-transition:enter-end="opacity-100 translate-y-0 sm:scale-100" 
            x-transition:leave="transition ease-in duration-200" 
            x-transition:leave-start="opacity-100 translate-y-0 sm:scale-100" 
            x-transition:leave-end="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95">
            
            <!-- Close Button -->
            <div class="absolute top-0 right-0 pt-4 pr-4">
                <button @click="sizeGuideOpen = false" class="text-gray-400 hover:text-gray-600 transition focus:outline-none focus:ring-2 focus:ring-nebula-400 focus:ring-offset-2 rounded-full p-1 dark:hover:text-gray-300">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            
            <!-- Modal Header -->
            <div class="bg-gray-50 px-6 py-4 border-b border-gray-200 dark:bg-gray-800 dark:border-gray-700">
                <div class="flex items-center">
                    <i class="fas fa-ruler-combined text-nebula-500 mr-2"></i>
                    <h3 class="text-lg font-medium text-gray-900 dark:text-white">Size Guide</h3>
                </div>
            </div>
            
            <!-- Modal Body -->
            <div class="p-6">
                <div class="mb-4">
                    <div class="flex space-x-4 mb-4" x-data="{ activeTab: 'inches' }">
                        <button 
                            @click="activeTab = 'inches'" 
                            class="px-4 py-2 rounded-lg font-medium text-sm transition-all duration-200"
                            :class="activeTab === 'inches' ? 'bg-nebula-500 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700'"
                        >
                            Inches
                        </button>
                        <button 
                            @click="activeTab = 'cm'" 
                            class="px-4 py-2 rounded-lg font-medium text-sm transition-all duration-200"
                            :class="activeTab === 'cm' ? 'bg-nebula-500 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700'"
                        >
                            Centimeters
                        </button>
                    </div>
                    
                    <div class="overflow-x-auto">
                        <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
                            <thead class="bg-gray-50 dark:bg-gray-800">
                                <tr>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400">Size</th>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400">Chest</th>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400">Waist</th>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400">Hip</th>
                                </tr>
                            </thead>
                            <tbody class="bg-white divide-y divide-gray-200 dark:bg-gray-900 dark:divide-gray-700" x-show="activeTab === 'inches'">
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white">XS</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300">31"-33"</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300">25"-27"</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300">34"-36"</td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white">S</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300">33"-35"</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300">27"-29"</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300">36"-38"</td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white">M</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300">35"-37"</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300">29"-31"</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300">38"-40"</td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white">L</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300">37"-40"</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300">31"-34"</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300">40"-43"</td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white">XL</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300">40"-43"</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300">34"-37"</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300">43"-46"</td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white">XXL</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300">43"-46"</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300">37"-40"</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300">46"-49"</td>
                                </tr>
                            </tbody>
                            <tbody class="bg-white divide-y divide-gray-200 dark:bg-gray-900 dark:divide-gray-700" x-show="activeTab === 'cm'">
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white">XS</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300">79-84 cm</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300">63-69 cm</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300">86-91 cm</td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white">S</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300">84-89 cm</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300">69-74 cm</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300">91-97 cm</td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white">M</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300">89-94 cm</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300">74-79 cm</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300">97-102 cm</td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white">L</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300">94-102 cm</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300">79-86 cm</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300">102-109 cm</td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white">XL</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300">102-109 cm</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300">86-94 cm</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300">109-117 cm</td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white">XXL</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300">109-117 cm</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300">94-102 cm</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300">117-124 cm</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- How to measure section -->
                <div class="mt-6">
                    <h4 class="text-md font-medium text-gray-800 mb-3 dark:text-white">How to Measure</h4>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="bg-gray-50 p-3 rounded-lg dark:bg-gray-800">
                            <div class="flex items-center mb-2">
                                <div class="w-8 h-8 rounded-full bg-nebula-100 flex items-center justify-center text-nebula-600 mr-2 dark:bg-nebula-900 dark:text-nebula-400">
                                    <i class="fas fa-ruler-horizontal"></i>
                                </div>
                                <h5 class="text-sm font-medium text-gray-800 dark:text-white">Chest</h5>
                            </div>
                            <p class="text-xs text-gray-600 dark:text-gray-300">Measure around the fullest part of your chest, keeping the tape horizontal.</p>
                        </div>
                        <div class="bg-gray-50 p-3 rounded-lg dark:bg-gray-800">
                            <div class="flex items-center mb-2">
                                <div class="w-8 h-8 rounded-full bg-nebula-100 flex items-center justify-center text-nebula-600 mr-2 dark:bg-nebula-900 dark:text-nebula-400">
                                    <i class="fas fa-ruler-vertical"></i>
                                </div>
                                <h5 class="text-sm font-medium text-gray-800 dark:text-white">Waist</h5>
                            </div>
                            <p class="text-xs text-gray-600 dark:text-gray-300">Measure around your natural waistline, keeping the tape comfortably loose.</p>
                        </div>
                        <div class="bg-gray-50 p-3 rounded-lg dark:bg-gray-800">
                            <div class="flex items-center mb-2">
                                <div class="w-8 h-8 rounded-full bg-nebula-100 flex items-center justify-center text-nebula-600 mr-2 dark:bg-nebula-900 dark:text-nebula-400">
                                    <i class="fas fa-ruler"></i>
                                </div>
                                <h5 class="text-sm font-medium text-gray-800 dark:text-white">Hip</h5>
                            </div>
                            <p class="text-xs text-gray-600 dark:text-gray-300">Measure around the fullest part of your hips, keeping the tape parallel to the floor.</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Footer -->
            <div class="bg-gray-50 px-6 py-4 border-t border-gray-200 dark:bg-gray-800 dark:border-gray-700">
                <div class="flex items-center justify-between">
                    <div class="text-sm text-gray-500 dark:text-gray-400">
                        <i class="fas fa-info-circle mr-1"></i> Still not sure about your size?
                    </div>
                    <button class="text-sm text-nebula-500 hover:text-nebula-600 dark:text-nebula-400 dark:hover:text-nebula-300" @click="$dispatch('open-size-assistant')">
                        Try our size assistant
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Reviews Panel -->
<div id="reviews-panel" class="fixed inset-0 z-50 overflow-y-auto bg-black/30 backdrop-filter backdrop-blur-md"
    x-show="reviewsPanelOpen" x-cloak 
    @open-reviews-panel.window="reviewsPanelOpen = true"
    x-data="{ 
        reviewsPanelOpen: false,
        reviewsData: {
            average: 4.5,
            total: 175,
            distribution: [
                { stars: 5, count: 120, percentage: 68 },
                { stars: 4, count: 30, percentage: 17 },
                { stars: 3, count: 15, percentage: 9 },
                { stars: 2, count: 7, percentage: 4 },
                { stars: 1, count: 3, percentage: 2 }
            ],
            reviews: [
                { author: 'Emily J.', stars: 5, date: '2 weeks ago', content: 'Absolutely love this product! The quality is outstanding and the fit is perfect. Would definitely recommend.', helpful: 17, images: [] },
                { author: 'Michael T.', stars: 4, date: '1 month ago', content: 'Great product overall. Comfortable and well-made. Only giving 4 stars because the color was slightly different than pictured.', helpful: 8, images: [] },
                { author: 'Sarah K.', stars: 5, date: '2 months ago', content: 'This exceeded my expectations! Fast shipping and incredible quality for the price. Will be ordering more colors soon.', helpful: 12, images: [] },
                { author: 'David L.', stars: 3, date: '3 months ago', content: 'Decent product but runs small. I recommend sizing up. Material is good quality though.', helpful: 23, images: [] }
            ]
        },
        activeReviewsTab: 'all'
    }"
    x-transition:enter="transition ease-out duration-300" 
    x-transition:enter-start="opacity-0" 
    x-transition:enter-end="opacity-100" 
    x-transition:leave="transition ease-in duration-200" 
    x-transition:leave-start="opacity-100" 
    x-transition:leave-end="opacity-0">
    
    <div class="flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0">
        <!-- Backdrop -->
        <div class="fixed inset-0 transition-opacity" @click="reviewsPanelOpen = false"></div>
        
        <!-- Modal Content -->
        <div class="inline-block align-bottom bg-white rounded-2xl text-left overflow-hidden shadow-2xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full dark:bg-gray-900"
            x-transition:enter="transition ease-out duration-300" 
            x-transition:enter-start="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95" 
            x-transition:enter-end="opacity-100 translate-y-0 sm:scale-100" 
            x-transition:leave="transition ease-in duration-200" 
            x-transition:leave-start="opacity-100 translate-y-0 sm:scale-100" 
            x-transition:leave-end="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95">
            
            <!-- Close Button -->
            <div class="absolute top-0 right-0 pt-4 pr-4">
                <button @click="reviewsPanelOpen = false" class="text-gray-400 hover:text-gray-600 transition focus:outline-none focus:ring-2 focus:ring-nebula-400 focus:ring-offset-2 rounded-full p-1 dark:hover:text-gray-300">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            
            <!-- Modal Header -->
            <div class="bg-gray-50 px-6 py-4 border-b border-gray-200 dark:bg-gray-800 dark:border-gray-700">
                <div class="flex items-center justify-between">
                    <div class="flex items-center">
                        <i class="fas fa-star text-glow-500 mr-2"></i>
                        <h3 class="text-lg font-medium text-gray-900 dark:text-white">Customer Reviews</h3>
                    </div>
                    <div class="flex items-center">
                        <span class="text-glow-500 font-bold text-lg mr-1" x-text="reviewsData.average"></span>
                        <div class="flex text-glow-500 mr-1">
                            <template x-for="i in 5" :key="i">
                                <i :class="i <= Math.floor(reviewsData.average) ? 'fas fa-star' : i <= reviewsData.average ? 'fas fa-star-half-alt' : 'far fa-star'"></i>
                            </template>
                        </div>
                        <span class="text-sm text-gray-500 dark:text-gray-400" x-text="'(' + reviewsData.total + ')'"></span>
                    </div>
                </div>
            </div>
            
            <!-- Modal Body -->
            <div class="p-6">
                <div class="flex flex-col md:flex-row gap-6">
                    <!-- Rating Summary -->
                    <div class="w-full md:w-1/2">
                        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg">
                            <h4 class="text-lg font-bold text-gray-900 dark:text-white mb-4">Rating Distribution</h4>
                            <ul class="space-y-2">
                                <template x-for="dist in reviewsData.distribution" :key="dist.stars">
                                    <li class="flex items-center">
                                        <span class="text-sm text-gray-600 dark:text-gray-400 w-12" x-text="dist.stars + ' stars'"></span>
                                        <div class="flex-1 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden mx-2">
                                            <div class="h-full bg-nebula-500" :style="{ width: dist.percentage + '%' }"></div>
                                        </div>
                                        <span class="text-sm text-gray-600 dark:text-gray-400" x-text="dist.count"></span>
                                    </li>
                                </template>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

                
            



    <!-- Size Guide Modal -->
    <div id="size-guide-modal" class="fixed inset-0 z-50 overflow-y-auto" x-show="sizeGuideOpen" x-cloak>
        <div class="flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0">
            <div class="fixed inset-0 bg-black/70 backdrop-blur-sm transition-opacity" @click="sizeGuideOpen = false"></div>
            
            <div class="inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full">
                <!-- Modal Header -->
                <div class="bg-gray-100 dark:bg-gray-700 px-6 py-4 flex items-center justify-between">
                    <h3 class="text-2xl font-bold text-gray-900 dark:text-white flex items-center">
                        <i class="fas fa-ruler-combined mr-2"></i>
                        Size Guide
                    </h3>
                    <button @click="sizeGuideOpen = false" class="text-gray-500 hover:text-gray-700 dark:text-gray-300 dark:hover:text-white">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>

                <!-- Modal Body -->
                <div class="p-6">
                    <!-- Age/Size Tabs -->
                    <div class="flex space-x-4 mb-6">
                        <button class="px-4 py-2 rounded-lg bg-nebula-500 text-white font-semibold">Kids (3-12Y)</button>
                        <button class="px-4 py-2 rounded-lg bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 font-semibold hover:bg-nebula-500 hover:text-white transition-colors">Teens (13-16Y)</button>
                    </div>

                    <!-- Size Chart -->
                    <div class="overflow-x-auto">
                        <table class="w-full">
                            <thead>
                                <tr class="bg-gray-50 dark:bg-gray-700">
                                    <th class="px-4 py-3 text-left text-sm font-semibold text-gray-600 dark:text-gray-300">Size</th>
                                    <th class="px-4 py-3 text-left text-sm font-semibold text-gray-600 dark:text-gray-300">Age</th>
                                    <th class="px-4 py-3 text-left text-sm font-semibold text-gray-600 dark:text-gray-300">Chest (cm)</th>
                                    <th class="px-4 py-3 text-left text-sm font-semibold text-gray-600 dark:text-gray-300">Length (cm)</th>
                                    <th class="px-4 py-3 text-left text-sm font-semibold text-gray-600 dark:text-gray-300">Sleeve (cm)</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-gray-200 dark:divide-gray-600">
                                <tr class="hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors">
                                    <td class="px-4 py-3 text-sm text-gray-900 dark:text-gray-300">XS</td>
                                    <td class="px-4 py-3 text-sm text-gray-900 dark:text-gray-300">3-4Y</td>
                                    <td class="px-4 py-3 text-sm text-gray-900 dark:text-gray-300">56-58</td>
                                    <td class="px-4 py-3 text-sm text-gray-900 dark:text-gray-300">43-45</td>
                                    <td class="px-4 py-3 text-sm text-gray-900 dark:text-gray-300">38-40</td>
                                </tr>
                                <tr class="hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors">
                                    <td class="px-4 py-3 text-sm text-gray-900 dark:text-gray-300">S</td>
                                    <td class="px-4 py-3 text-sm text-gray-900 dark:text-gray-300">5-6Y</td>
                                    <td class="px-4 py-3 text-sm text-gray-900 dark:text-gray-300">60-62</td>
                                    <td class="px-4 py-3 text-sm text-gray-900 dark:text-gray-300">47-49</td>
                                    <td class="px-4 py-3 text-sm text-gray-900 dark:text-gray-300">42-44</td>
                                </tr>
                                <tr class="hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors">
                                    <td class="px-4 py-3 text-sm text-gray-900 dark:text-gray-300">M</td>
                                    <td class="px-4 py-3 text-sm text-gray-900 dark:text-gray-300">7-8Y</td>
                                    <td class="px-4 py-3 text-sm text-gray-900 dark:text-gray-300">64-66</td>
                                    <td class="px-4 py-3 text-sm text-gray-900 dark:text-gray-300">51-53</td>
                                    <td class="px-4 py-3 text-sm text-gray-900 dark:text-gray-300">46-48</td>
                                </tr>
                                <tr class="hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors">
                                    <td class="px-4 py-3 text-sm text-gray-900 dark:text-gray-300">L</td>
                                    <td class="px-4 py-3 text-sm text-gray-900 dark:text-gray-300">9-10Y</td>
                                    <td class="px-4 py-3 text-sm text-gray-900 dark:text-gray-300">68-70</td>
                                    <td class="px-4 py-3 text-sm text-gray-900 dark:text-gray-300">55-57</td>
                                    <td class="px-4 py-3 text-sm text-gray-900 dark:text-gray-300">50-52</td>
                                </tr>
                                <tr class="hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors">
                                    <td class="px-4 py-3 text-sm text-gray-900 dark:text-gray-300">XL</td>
                                    <td class="px-4 py-3 text-sm text-gray-900 dark:text-gray-300">11-12Y</td>
                                    <td class="px-4 py-3 text-sm text-gray-900 dark:text-gray-300">72-74</td>
                                    <td class="px-4 py-3 text-sm text-gray-900 dark:text-gray-300">59-61</td>
                                    <td class="px-4 py-3 text-sm text-gray-900 dark:text-gray-300">54-56</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- Measurement Guide -->
                    <div class="mt-6 space-y-4">
                        <h4 class="font-semibold text-gray-900 dark:text-white">How to Measure</h4>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg">
                                <div class="flex items-center mb-2">
                                    <i class="fas fa-arrows-alt-h text-nebula-500 mr-2"></i>
                                    <span class="font-medium text-gray-900 dark:text-white">Chest</span>
                                </div>
                                <p class="text-sm text-gray-600 dark:text-gray-300">Measure around the fullest part of the chest, under the armpits</p>
                            </div>
                            <div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg">
                                <div class="flex items-center mb-2">
                                    <i class="fas fa-arrows-alt-v text-nebula-500 mr-2"></i>
                                    <span class="font-medium text-gray-900 dark:text-white">Length</span>
                                </div>
                                <p class="text-sm text-gray-600 dark:text-gray-300">Measure from the highest point of the shoulder to the bottom hem</p>
                            </div>
                            <div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg">
                                <div class="flex items-center mb-2">
                                    <i class="fas fa-ruler text-nebula-500 mr-2"></i>
                                    <span class="font-medium text-gray-900 dark:text-white">Sleeve</span>
                                </div>
                                <p class="text-sm text-gray-600 dark:text-gray-300">Measure from the shoulder seam to the end of the sleeve</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Modal Footer -->
                <div class="bg-gray-100 dark:bg-gray-700 px-6 py-4">
                    <div class="flex justify-between items-center">
                        <p class="text-sm text-gray-500 dark:text-gray-400">Still unsure? Contact our support team</p>
                        <button @click="sizeGuideOpen = false" class="px-4 py-2 bg-nebula-500 text-white rounded-lg hover:bg-nebula-600 transition-colors">
                            Got it
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    





<!-- Collections Section -->
<section id="collections" class="py-24 bg-gradient-to-br from-moon-50 to-glow-50 dark:from-gray-900 dark:to-gray-800 relative overflow-hidden" 
         x-data="{ 
            activeSlide: 0,
            totalSlides: 3,
            autoplayEnabled: true,
            autoplaySpeed: 5000,
            init() {
                if (this.autoplayEnabled) {
                    this.startAutoplay();
                }
                
                // Pause autoplay on hover
                this.$el.addEventListener('mouseenter', () => this.pauseAutoplay());
                this.$el.addEventListener('mouseleave', () => this.startAutoplay());
                
                // Handle keyboard navigation
                window.addEventListener('keydown', (e) => {
                    if (e.key === 'ArrowLeft') this.prevSlide();
                    if (e.key === 'ArrowRight') this.nextSlide();
                });

                // Initialize touch swipe detection
                let touchStartX = 0;
                let touchEndX = 0;
                
                this.$el.addEventListener('touchstart', (e) => {
                    touchStartX = e.changedTouches[0].screenX;
                });
                
                this.$el.addEventListener('touchend', (e) => {
                    touchEndX = e.changedTouches[0].screenX;
                    if (touchStartX - touchEndX > 50) this.nextSlide();
                    if (touchEndX - touchStartX > 50) this.prevSlide();
                });
            },
            startAutoplay() {
                this.autoplayInterval = setInterval(() => {
                    this.nextSlide();
                }, this.autoplaySpeed);
            },
            pauseAutoplay() {
                clearInterval(this.autoplayInterval);
            },
            nextSlide() {
                this.activeSlide = (this.activeSlide + 1) % this.totalSlides;
                this.playSlideSound();
            },
            prevSlide() {
                this.activeSlide = (this.activeSlide - 1 + this.totalSlides) % this.totalSlides;
                this.playSlideSound();
            },
            goToSlide(index) {
                this.activeSlide = index;
                this.playSlideSound();
            },
            playSlideSound() {
                const audio = new Audio();
                audio.volume = 0.2;
                audio.src = 'assets/sounds/slide.mp3';
                audio.play().catch(e => console.log('Audio play failed:', e));
            }
         }"
         @keydown.left.window="prevSlide()"
         @keydown.right.window="nextSlide()"
>
    <!-- Animated background elements -->
    <div class="absolute inset-0 moon-bg opacity-10"></div>
    <div class="absolute -left-48 -top-48 w-96 h-96 bg-nebula-500/30 rounded-full filter blur-3xl animate-float"></div>
    <div class="absolute -right-48 -bottom-48 w-96 h-96 bg-glow-500/20 rounded-full filter blur-3xl animate-float-delay"></div>
    
    <div class="container mx-auto px-4 relative z-10">
        <div class="text-center mb-16">
            <span class="inline-block px-4 py-1 rounded-full bg-nebula-100 dark:bg-nebula-900/40 text-nebula-700 dark:text-nebula-300 text-sm font-medium mb-4 animate-fadeIn">PREMIUM QUALITY</span>
            <h2 class="text-4xl md:text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-nebula-500 via-glow-500 to-moon-500 animate-gradient-text mb-4">Curated Collections</h2>
            <p class="text-gray-600 dark:text-gray-300 max-w-2xl mx-auto leading-relaxed">Discover our meticulously crafted jersey lineups designed for aspiring champions. Each collection celebrates iconic heritage with modern innovation.</p>
        </div>

        <div class="relative mx-auto max-w-6xl" aria-live="polite">
            <!-- Progress bar -->
            <div class="absolute -top-6 left-0 right-0 mx-auto w-48 h-1 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden">
                <div class="h-full bg-nebula-500 transition-all duration-500 ease-out"
                     :style="{ width: `${(activeSlide + 1) / totalSlides * 100}%` }"></div>
            </div>
            
            <div class="overflow-hidden rounded-3xl shadow-2xl shadow-nebula-500/10 backdrop-blur-sm border border-white/10 dark:border-gray-800/50">
                <div class="flex transition-transform duration-700 ease-out"
                     :style="{ transform: `translateX(-${activeSlide * 100}%)` }">
                    <!-- Collection 1: Barcelona -->
                    <div class="w-full flex-shrink-0 p-6">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                            <div class="relative group rounded-2xl overflow-hidden">
                                <div class="absolute inset-0 bg-gradient-to-r from-nebula-500/20 to-glow-500/20 opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                                <div class="relative overflow-hidden rounded-2xl">
                                    <img src="images/1.png" alt="Barcelona Collection" class="w-full h-[500px] object-cover transition-transform duration-700 group-hover:scale-110">
                                    <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity"></div>
                                </div>
                                <div class="absolute bottom-0 left-0 right-0 p-8 text-white transform translate-y-4 group-hover:translate-y-0 opacity-0 group-hover:opacity-100 transition-all duration-500">
                                    <span class="inline-block px-3 py-1 bg-nebula-500/80 backdrop-blur-sm rounded-full text-xs font-semibold mb-3">FEATURED COLLECTION</span>
                                    <h3 class="text-3xl font-bold mb-2">Barcelona Collection</h3>
                                    <p class="text-white/80 mb-4">Experience the pride of Blaugrana with our premium youth jerseys</p>
                                    <button class="px-6 py-2 bg-white text-nebula-600 font-medium rounded-full hover:bg-nebula-50 transition-all duration-300 flex items-center gap-2 hover:gap-3 group w-fit">
                                        Explore Collection 
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 transition-transform group-hover:translate-x-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
                                        </svg>
                                    </button>
                                </div>
                            </div>
                            <div class="grid grid-cols-4 gap-4">
                                <template x-for="(item, index) in [
                                    {img: 'images/3.png', title: 'Away Kit'},
                                    {img: 'images/4.png', title: 'Third Kit'},
                                    {img: 'images/15.png', title: 'Training Kit'},
                                    {img: 'images/2.png', title: 'Special Edition'},
                                    {img: 'images/13.png', title: 'Cosmic Kick Jersey'},
                                    {img: 'images/20.png', title: 'Barca White Jersey'},
                                    {img: 'images/6.png', title: 'Cosmic Kick Jersey'},
                                    {img: 'images/7.png', title: 'Barca Training Kit'}
                                ]">
                                    <div class="relative group overflow-hidden rounded-xl shadow-md hover:shadow-xl hover:shadow-nebula-500/20 transition-all duration-500">
                                        <div class="absolute inset-0 bg-gradient-to-b from-nebula-500/0 to-nebula-500/20 opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                                        <img :src="item.img" :alt="item.title" class="w-full h-48 object-cover transition-transform duration-700 group-hover:scale-110">
                                        <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"></div>
                                        <div class="absolute bottom-0 left-0 right-0 p-4 text-white transform translate-y-4 group-hover:translate-y-0 opacity-0 group-hover:opacity-100 transition-all duration-500">
                                            <h4 class="font-bold" x-text="item.title"></h4>
                                            <span class="text-xs opacity-75">BARCA</span>
                                        </div>
                                    </div>
                                </template>
                            </div>
                        </div>
                    </div>

                    <!-- Collection 2: Argentina -->
                    <div class="w-full flex-shrink-0 p-6">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                            <div class="relative group rounded-2xl overflow-hidden">
                                <div class="absolute inset-0 bg-gradient-to-r from-blue-500/20 to-white/20 opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                                <div class="relative overflow-hidden rounded-2xl">
                                    <img src="images/argen.png" alt="Argentina Collection" class="w-full h-[500px] object-cover transition-transform duration-700 group-hover:scale-110">
                                    <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity"></div>
                                </div>
                                <div class="absolute bottom-0 left-0 right-0 p-8 text-white transform translate-y-4 group-hover:translate-y-0 opacity-0 group-hover:opacity-100 transition-all duration-500">
                                    <span class="inline-block px-3 py-1 bg-blue-500/80 backdrop-blur-sm rounded-full text-xs font-semibold mb-3">WORLD CHAMPIONS</span>
                                    <h3 class="text-3xl font-bold mb-2">Argentina Collection</h3>
                                    <p class="text-white/80 mb-4">Inspired by champions, designed for future legends</p>
                                    <button class="px-6 py-2 bg-white text-blue-600 font-medium rounded-full hover:bg-blue-50 transition-all duration-300 flex items-center gap-2 hover:gap-3 group w-fit">
                                        Explore Collection 
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 transition-transform group-hover:translate-x-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
                                        </svg>
                                    </button>
                                </div>
                            </div>
                            <div class="grid grid-cols-3 gap-4">
                                <template x-for="(item, index) in [
                                    {img: 'images/30.png', title: 'Away Kit'},
                                    {img: 'images/35.png', title: 'Third Kit'},
                                    {img: 'images/57.png', title: 'Training Kit'},
                                    {img: 'images/32.png', title: 'Special Edition'},
                                    {img: 'images/34.png', title: 'Cosmic Jersey'},
                                    {img: 'images/33.png', title: 'Galaxy Jersey'}
                                ]">
                                    <div class="relative group overflow-hidden rounded-xl shadow-md hover:shadow-xl hover:shadow-blue-500/20 transition-all duration-500">
                                        <div class="absolute inset-0 bg-gradient-to-b from-blue-500/0 to-blue-500/20 opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                                        <img :src="item.img" :alt="item.title" class="w-full h-48 object-cover transition-transform duration-700 group-hover:scale-110">
                                        <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"></div>
                                        <div class="absolute bottom-0 left-0 right-0 p-4 text-white transform translate-y-4 group-hover:translate-y-0 opacity-0 group-hover:opacity-100 transition-all duration-500">
                                            <h4 class="font-bold" x-text="item.title"></h4>
                                            <span class="text-xs opacity-75">ARGENTINA</span>
                                        </div>
                                    </div>
                                </template>
                            </div>
                        </div>
                    </div>

                    <!-- Collection 3: Real Madrid -->
                    <div class="w-full flex-shrink-0 p-6">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                            <div class="relative group rounded-2xl overflow-hidden">
                                <div class="absolute inset-0 bg-gradient-to-r from-indigo-500/20 to-purple-500/20 opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                                <div class="relative overflow-hidden rounded-2xl">
                                    <img src="images/madrid.png" alt="Real Madrid Collection" class="w-full h-[500px] object-cover transition-transform duration-700 group-hover:scale-110">
                                    <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity"></div>
                                </div>
                                <div class="absolute bottom-0 left-0 right-0 p-8 text-white transform translate-y-4 group-hover:translate-y-0 opacity-0 group-hover:opacity-100 transition-all duration-500">
                                    <span class="inline-block px-3 py-1 bg-indigo-500/80 backdrop-blur-sm rounded-full text-xs font-semibold mb-3">ROYAL COLLECTION</span>
                                    <h3 class="text-3xl font-bold mb-2">Real Madrid Collection</h3>
                                    <p class="text-white/80 mb-4">Royal elegance for young champions in the making</p>
                                    <button class="px-6 py-2 bg-white text-indigo-600 font-medium rounded-full hover:bg-indigo-50 transition-all duration-300 flex items-center gap-2 hover:gap-3 group w-fit">
                                        Explore Collection 
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 transition-transform group-hover:translate-x-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
                                        </svg>
                                    </button>
                                </div>
                            </div>
                            <div class="grid grid-cols-2 gap-4">
                                <template x-for="(item, index) in [
                                    {img: 'images/40.png', title: 'Away Kit'},
                                    {img: 'images/39.png', title: 'Third Kit'},
                                    {img: 'images/56.png', title: 'Training Kit'},
                                    {img: 'images/41.png', title: 'Special Edition'}
                                ]">
                                    <div class="relative group overflow-hidden rounded-xl shadow-md hover:shadow-xl hover:shadow-indigo-500/20 transition-all duration-500">
                                        <div class="absolute inset-0 bg-gradient-to-b from-indigo-500/0 to-indigo-500/20 opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                                        <img :src="item.img" :alt="item.title" class="w-full h-48 object-cover transition-transform duration-700 group-hover:scale-110">
                                        <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"></div>
                                        <div class="absolute bottom-0 left-0 right-0 p-4 text-white transform translate-y-4 group-hover:translate-y-0 opacity-0 group-hover:opacity-100 transition-all duration-500">
                                            <h4 class="font-bold" x-text="item.title"></h4>
                                            <span class="text-xs opacity-75">REAL MADRID</span>
                                        </div>
                                    </div>
                                </template>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Improved Navigation Buttons -->
            <button 
                @click="prevSlide()" 
                class="absolute left-4 top-1/2 transform -translate-y-1/2 w-14 h-14 rounded-full bg-white/90 dark:bg-gray-800/90 text-gray-800 dark:text-white shadow-lg backdrop-blur-sm hover:scale-110 transition-all duration-300 flex items-center justify-center group focus:outline-none focus:ring-2 focus:ring-nebula-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900"
                aria-label="Previous collection"
            >
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 group-hover:-translate-x-1 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                </svg>
            </button>
            <button 
                @click="nextSlide()"
                class="absolute right-4 top-1/2 transform -translate-y-1/2 w-14 h-14 rounded-full bg-white/90 dark:bg-gray-800/90 text-gray-800 dark:text-white shadow-lg backdrop-blur-sm hover:scale-110 transition-all duration-300 flex items-center justify-center group focus:outline-none focus:ring-2 focus:ring-nebula-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900"
                aria-label="Next collection"
            >
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 group-hover:translate-x-1 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
            </button>

            <!-- Enhanced Dots -->
            <div class="absolute -bottom-12 left-0 right-0 flex justify-center space-x-3">
                <template x-for="(_, index) in Array(totalSlides)" :key="index">
                    <button 
                        @click="goToSlide(index)"
                        class="group flex items-center transition-all duration-300 focus:outline-none"
                        :aria-label="`Go to slide ${index + 1}`"
                        :aria-current="activeSlide === index ? 'true' : 'false'"
                    >
                        <span 
                            class="w-3 h-3 rounded-full transition-all duration-300"
                            :class="activeSlide === index ? 'bg-nebula-500 w-8' : 'bg-gray-300 dark:bg-gray-600 group-hover:bg-nebula-300 dark:group-hover:bg-nebula-700'"
                        ></span>
                        <span x-show="activeSlide === index" class="ml-2 text-xs font-medium text-nebula-500 dark:text-nebula-300 animate-fadeIn hidden md:block" x-text="`Collection ${index + 1}`"></span>
                    </button>
                </template>
            </div>
        </div>
        
        <!-- Collection count and autoplay controls -->
        <div class="flex justify-between items-center max-w-6xl mx-auto mt-20">
            <div class="text-sm text-gray-500 dark:text-gray-400">
                <span class="font-medium text-nebula-500" x-text="`${activeSlide + 1}`"></span> of <span x-text="totalSlides"></span> collections
            </div>
            <button 
                @click="autoplayEnabled = !autoplayEnabled; autoplayEnabled ? startAutoplay() : pauseAutoplay()"
                class="text-sm flex items-center gap-2 text-gray-500 dark:text-gray-400 hover:text-nebula-500 dark:hover:text-nebula-300 transition-colors"
                :aria-label="autoplayEnabled ? 'Pause autoplay' : 'Start autoplay'"
            >
                <span x-text="autoplayEnabled ? 'Pause Autoplay' : 'Start Autoplay'"></span>
                <svg x-show="!autoplayEnabled" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
                <svg x-show="autoplayEnabled" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
            </button>
        </div>
    </div>
    
    <!-- Accessibility keyboard shortcut info -->
    <div class="absolute bottom-4 right-4 hidden md:flex items-center gap-2 text-xs text-gray-400 dark:text-gray-500">
        <span>Use arrow keys</span>
        <div class="flex space-x-1">
            <span class="px-2 py-1 bg-gray-100 dark:bg-gray-800 rounded border border-gray-200 dark:border-gray-700">←</span>
            <span class="px-2 py-1 bg-gray-100 dark:bg-gray-800 rounded border border-gray-200 dark:border-gray-700">→</span>
        </div>
        <span>to navigate</span>
    </div>
</section>










    <style>
        #jersey-canvas { transition: transform 0.3s ease; }
        #jersey-canvas:hover { transform: scale(1.05); }
        .notification { transition: opacity 0.3s ease, transform 0.3s ease; }
        .notification-enter { opacity: 0; transform: translateY(20px); }
        .notification-exit { opacity: 0; }
        .tooltip { position: relative; }
        .tooltip:hover::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: #1f2937;
            color: #fff;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            white-space: nowrap;
            z-index: 10;
        }
    </style>

    <section id="design-lab" class="py-16 bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-extrabold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-400">Jersey Customizer</h2>
                <p class="text-lg text-blue-200 mt-4 max-w-2xl mx-auto">Design your unique jersey with our advanced customization tool.</p>
            </div>
            <div class="flex flex-col lg:flex-row gap-8">
                <!-- 2D Preview -->
                <div class="flex-1 bg-gray-800/70 p-8 rounded-2xl border border-gray-700/50 min-h-[550px] shadow-lg">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-2xl font-semibold flex items-center">
                            <svg class="h-6 w-6 mr-3 text-blue-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>
                            Jersey Preview
                        </h3>
                        <span class="bg-blue-900/50 px-4 py-1 rounded-full text-sm text-blue-200">Real-Time Customization</span>
                    </div>
                    <div class="relative h-[450px] rounded-xl overflow-hidden bg-gradient-to-br from-gray-900/60 to-blue-900/60">
                        <div id="loading-state" class="absolute inset-0 flex items-center justify-center bg-gray-900/70">
                            <div class="text-center">
                                <div class="animate-spin rounded-full h-10 w-10 border-t-2 border-blue-500 mx-auto mb-4"></div>
                                <p class="text-blue-200 text-sm">Loading Preview...</p>
                                <div class="w-48 h-2 bg-gray-700 rounded-full mt-2">
                                    <div id="loading-progress" class="h-full bg-blue-500 rounded-full" style="width: 0%; transition: width 2s ease;"></div>
                                </div>
                            </div>
                        </div>
                        <canvas id="jersey-canvas" class="w-full h-full"></canvas>
                    </div>
                    <div class="mt-6 flex justify-between gap-4">
                        <button id="save-design" class="flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center tooltip" data-tooltip="Save your design locally">
                            <svg class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4" /></svg>
                            Save
                        </button>
                        <button id="download-design" class="flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center justify-center tooltip" data-tooltip="Download as PNG">
                            <svg class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" /></svg>
                            Download
                        </button>
                        <button id="reset-design" class="flex-1 px-6 py-3 bg-gray-700 text-white rounded-lg hover:bg-gray-600 flex items-center justify-center tooltip" data-tooltip="Reset to default">
                            <svg class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" /></svg>
                            Reset
                        </button>
                    </div>
                    <div class="mt-4 flex justify-center gap-4">
                        <button id="undo-design" class="px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-500 flex items-center tooltip" data-tooltip="Undo last change">
                            <svg class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3" /></svg>
                            Undo
                        </button>
                        <button id="redo-design" class="px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-500 flex items-center tooltip" data-tooltip="Redo last change">
                            <svg class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 15l6-6m0 0l-6-6m6 6H9a6 6 0 000 12h3" /></svg>
                            Redo
                        </button>
                    </div>
                </div>
                <!-- Customization Controls -->
                <div class="flex-1 bg-gray-800/70 p-8 rounded-2xl border border-gray-700/50 min-h-[550px] shadow-lg">
                    <h3 class="text-2xl font-semibold mb-6 flex items-center">
                        <svg class="h-6 w-6 mr-3 text-blue-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>
                        Customize Your Jersey
                    </h3>
                    <div class="space-y-6 max-h-[450px] overflow-y-auto pr-4">
                        <!-- Collapsible Sections -->
                        <details class="bg-gray-900/50 p-4 rounded-lg" open>
                            <summary class="text-blue-200 font-semibold cursor-pointer">Jersey Design</summary>
                            <div class="mt-4 space-y-4">
                                <div>
                                    <label class="block text-sm text-blue-200 mb-2 tooltip" data-tooltip="Select jersey style">Jersey Style</label>
                                    <select id="jersey-style" class="w-full bg-gray-900/70 border border-gray-700 text-blue-100 text-sm rounded-lg p-3 focus:ring-2 focus:ring-blue-500">
                                        <option value="classic">Classic</option>
                                        <option value="modern">Modern</option>
                                        <option value="pro">Pro</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm text-blue-200 mb-2 tooltip" data-tooltip="Choose primary color">Primary Color</label>
                                    <input type="color" id="primary-color" value="#1E3A8A" class="w-full h-12 rounded-lg border border-gray-700 cursor-pointer">
                                </div>
                                <div>
                                    <label class="block text-sm text-blue-200 mb-2 tooltip" data-tooltip="Choose secondary color">Secondary Color</label>
                                    <input type="color" id="secondary-color" value="#F3F4F6" class="w-full h-12 rounded-lg border border-gray-700 cursor-pointer">
                                </div>
                                <div>
                                    <label class="block text-sm text-blue-200 mb-2 tooltip" data-tooltip="Select pattern">Pattern</label>
                                    <select id="pattern-select" class="w-full bg-gray-900/70 border border-gray-700 text-blue-100 text-sm rounded-lg p-3 focus:ring-2 focus:ring-blue-500">
                                        <option value="solid">Solid</option>
                                        <option value="stripes">Stripes</option>
                                        <option value="gradient">Gradient</option>
                                    </select>
                                </div>
                            </div>
                        </details>
                        <details class="bg-gray-900/50 p-4 rounded-lg" open>
                            <summary class="text-blue-200 font-semibold cursor-pointer">Text & Logo</summary>
                            <div class="mt-4 space-y-4">
                                <div>
                                    <label class="block text-sm text-blue-200 mb-2 tooltip" data-tooltip="Enter player name (max 20 characters)">Player Name</label>
                                    <input type="text" id="player-name" placeholder="Enter player name" maxlength="20" class="w-full bg-gray-900/70 border border-gray-700 text-blue-100 text-sm rounded-lg p-3 focus:ring-2 focus:ring-blue-500">
                                </div>
                                <div>
                                    <label class="block text-sm text-blue-200 mb-2 tooltip" data-tooltip="Enter jersey number (0-99)">Jersey Number</label>
                                    <input type="number" id="jersey-number" placeholder="Enter number" min="0" max="99" class="w-full bg-gray-900/70 border border-gray-700 text-blue-100 text-sm rounded-lg p-3 focus:ring-2 focus:ring-blue-500">
                                </div>
                                <div>
                                    <label class="block text-sm text-blue-200 mb-2 tooltip" data-tooltip="Select font style">Font Style</label>
                                    <select id="font-style" class="w-full bg-gray-900/70 border border-gray-700 text-blue-100 text-sm rounded-lg p-3 focus:ring-2 focus:ring-blue-500">
                                        <option value="sans-serif">Sans Serif</option>
                                        <option value="serif">Serif</option>
                                        <option value="monospace">Block</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm text-blue-200 mb-2 tooltip" data-tooltip="Select back text layout">Back Style</label>
                                    <select id="back-style" class="w-full bg-gray-900/70 border border-gray-700 text-blue-100 text-sm rounded-lg p-3 focus:ring-2 focus:ring-blue-500">
                                        <option value="standard">Standard</option>
                                        <option value="curved">Curved</option>
                                        <option value="stacked">Stacked</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm text-blue-200 mb-2 tooltip" data-tooltip="Enter team name (max 30 characters)">Country/Club Name</label>
                                    <input type="text" id="club-name" placeholder="Enter country/club" maxlength="30" class="w-full bg-gray-900/70 border border-gray-700 text-blue-100 text-sm rounded-lg p-3 focus:ring-2 focus:ring-blue-500">
                                </div>
                                <div>
                                    <label class="block text-sm text-blue-200 mb-2 tooltip" data-tooltip="Upload logo (PNG/JPG, max 2MB)">Logo</label>
                                    <input type="file" id="logo-upload" accept="image/png,image/jpeg" class="w-full bg-gray-900/70 border border-gray-700 text-blue-100 text-sm rounded-lg p-3 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-blue-600 file:text-white hover:file:bg-blue-700">
                                </div>
                            </div>
                        </details>
                        <details class="bg-gray-900/50 p-4 rounded-lg" open>
                            <summary class="text-blue-200 font-semibold cursor-pointer">Details</summary>
                            <div class="mt-4 space-y-4">
                                <div>
                                    <label class="block text-sm text-blue-200 mb-2 tooltip" data-tooltip="Select shoulder design">Shoulder Style</label>
                                    <select id="shoulder-style" class="w-full bg-gray-900/70 border border-gray-700 text-blue-100 text-sm rounded-lg p-3 focus:ring-2 focus:ring-blue-500">
                                        <option value="plain">Plain</option>
                                        <option value="striped">Striped</option>
                                        <option value="padded">Padded</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm text-blue-200 mb-2 tooltip" data-tooltip="Select sleeve design">Hand Style</label>
                                    <select id="hand-style" class="w-full bg-gray-900/70 border border-gray-700 text-blue-100 text-sm rounded-lg p-3 focus:ring-2 focus:ring-blue-500">
                                        <option value="standard">Standard</option>
                                        <option value="tapered">Tapered</option>
                                        <option value="ribbed">Ribbed</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm text-blue-200 mb-2 tooltip" data-tooltip="Select collar design">Collar Style</label>
                                    <select id="collar-style" class="w-full bg-gray-900/70 border border-gray-700 text-blue-100 text-sm rounded-lg p-3 focus:ring-2 focus:ring-blue-500">
                                        <option value="crew">Crew Neck</option>
                                        <option value="v-neck">V-Neck</option>
                                        <option value="polo">Polo</option>
                                    </select>
                                </div>
                            </div>
                        </details>
                        <!-- Apply Button -->
                        <button id="apply-design" class="w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center tooltip" data-tooltip="Apply all changes">
                            <svg class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg>
                            Apply Design
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        class JerseyCustomizer {
            constructor() {
                this.elements = {
                    canvas: document.getElementById('jersey-canvas'),
                    loadingState: document.getElementById('loading-state'),
                    loadingProgress: document.getElementById('loading-progress'),
                    jerseyStyle: document.getElementById('jersey-style'),
                    primaryColor: document.getElementById('primary-color'),
                    secondaryColor: document.getElementById('secondary-color'),
                    patternSelect: document.getElementById('pattern-select'),
                    playerName: document.getElementById('player-name'),
                    jerseyNumber: document.getElementById('jersey-number'),
                    fontStyle: document.getElementById('font-style'),
                    backStyle: document.getElementById('back-style'),
                    clubName: document.getElementById('club-name'),
                    logoUpload: document.getElementById('logo-upload'),
                    shoulderStyle: document.getElementById('shoulder-style'),
                    handStyle: document.getElementById('hand-style'),
                    collarStyle: document.getElementById('collar-style'),
                    saveDesign: document.getElementById('save-design'),
                    downloadDesign: document.getElementById('download-design'),
                    resetDesign: document.getElementById('reset-design'),
                    applyDesign: document.getElementById('apply-design'),
                    undoDesign: document.getElementById('undo-design'),
                    redoDesign: document.getElementById('redo-design')
                };

                this.defaultDesign = {
                    style: 'classic',
                    primaryColor: '#1E3A8A',
                    secondaryColor: '#F3F4F6',
                    pattern: 'solid',
                    playerName: '',
                    jerseyNumber: '',
                    fontStyle: 'sans-serif',
                    backStyle: 'standard',
                    clubName: '',
                    logo: null,
                    shoulderStyle: 'plain',
                    handStyle: 'standard',
                    collarStyle: 'crew'
                };

                this.state = {
                    design: { ...this.defaultDesign },
                    history: [],
                    historyIndex: -1
                };

                this.canvas = this.elements.canvas;
                this.ctx = this.canvas.getContext('2d');
                this.logoImage = null;

                this.init();
                this.bindEvents();
            }

            init() {
                // Set canvas size
                this.canvas.width = 600;
                this.canvas.height = 450;

                // Simulate loading progress
                let progress = 0;
                const interval = setInterval(() => {
                    progress += 20;
                    this.elements.loadingProgress.style.width = `${progress}%`;
                    if (progress >= 100) {
                        clearInterval(interval);
                        setTimeout(() => {
                            this.elements.loadingState.style.display = 'none';
                            this.updateJersey();
                        }, 500);
                    }
                }, 400);
            }

            drawJersey() {
                const { primaryColor, secondaryColor, pattern, playerName, jerseyNumber, clubName, fontStyle, shoulderStyle, handStyle, collarStyle } = this.state.design;
                this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);

                // Draw jersey body
                this.ctx.fillStyle = primaryColor;
                this.ctx.beginPath();
                this.ctx.moveTo(150, 50);
                this.ctx.lineTo(450, 50);
                this.ctx.lineTo(400, 300);
                this.ctx.lineTo(200, 300);
                this.ctx.closePath();
                this.ctx.fill();

                // Apply pattern
                if (pattern === 'stripes') {
                    this.ctx.fillStyle = secondaryColor;
                    for (let y = 50; y < 300; y += 20) {
                        this.ctx.fillRect(150, y, 300, 10);
                    }
                } else if (pattern === 'gradient') {
                    const gradient = this.ctx.createLinearGradient(150, 50, 450, 300);
                    gradient.addColorStop(0, primaryColor);
                    gradient.addColorStop(1, secondaryColor);
                    this.ctx.fillStyle = gradient;
                    this.ctx.fillRect(150, 50, 300, 250);
                }

                // Draw shoulders
                if (shoulderStyle === 'striped') {
                    this.ctx.fillStyle = secondaryColor;
                    this.ctx.fillRect(150, 50, 300, 20);
                } else if (shoulderStyle === 'padded') {
                    this.ctx.fillStyle = '#333333';
                    this.ctx.fillRect(150, 50, 300, 30);
                }

                // Draw sleeves
                if (handStyle === 'tapered') {
                    this.ctx.fillStyle = '#000000';
                    this.ctx.fillRect(150, 280, 300, 20);
                } else if (handStyle === 'ribbed') {
                    this.ctx.fillStyle = '#FFFFFF';
                    this.ctx.fillRect(150, 280, 300, 20);
                }

                // Draw collar
                if (collarStyle === 'v-neck') {
                    this.ctx.fillStyle = '#FF0000';
                    this.ctx.beginPath();
                    this.ctx.moveTo(300, 50);
                    this.ctx.lineTo(280, 80);
                    this.ctx.lineTo(320, 80);
                    this.ctx.closePath();
                    this.ctx.fill();
                } else if (collarStyle === 'polo') {
                    this.ctx.fillStyle = '#0000FF';
                    this.ctx.fillRect(280, 50, 40, 20);
                }

                // Draw text
                this.ctx.fillStyle = '#FFFFFF';
                this.ctx.font = `bold 24px ${fontStyle}`;
                this.ctx.textAlign = 'center';
                this.ctx.textBaseline = 'middle';
                this.ctx.fillText(playerName || '', 300, 150);
                this.ctx.fillText(jerseyNumber || '', 300, 200);
                this.ctx.fillText(clubName || '', 300, 250);

                // Draw logo
                if (this.logoImage) {
                    this.ctx.drawImage(this.logoImage, 275, 80, 50, 50);
                }
            }

            updateJersey() {
                this.drawJersey();
            }

            saveToHistory() {
                this.state.history = this.state.history.slice(0, this.state.historyIndex + 1);
                this.state.history.push(JSON.stringify(this.state.design));
                this.state.historyIndex++;
                if (this.state.history.length > 20) {
                    this.state.history.shift();
                    this.state.historyIndex--;
                }
            }

            undo() {
                if (this.state.historyIndex > 0) {
                    this.state.historyIndex--;
                    this.state.design = JSON.parse(this.state.history[this.state.historyIndex]);
                    this.syncInputs();
                    this.updateJersey();
                    this.showNotification('Undo successful', 'info');
                }
            }

            redo() {
                if (this.state.historyIndex < this.state.history.length - 1) {
                    this.state.historyIndex++;
                    this.state.design = JSON.parse(this.state.history[this.state.historyIndex]);
                    this.syncInputs();
                    this.updateJersey();
                    this.showNotification('Redo successful', 'info');
                }
            }

            syncInputs() {
                this.elements.jerseyStyle.value = this.state.design.style;
                this.elements.primaryColor.value = this.state.design.primaryColor;
                this.elements.secondaryColor.value = this.state.design.secondaryColor;
                this.elements.patternSelect.value = this.state.design.pattern;
                this.elements.playerName.value = this.state.design.playerName;
                this.elements.jerseyNumber.value = this.state.design.jerseyNumber;
                this.elements.fontStyle.value = this.state.design.fontStyle;
                this.elements.backStyle.value = this.state.design.backStyle;
                this.elements.clubName.value = this.state.design.clubName;
                this.elements.logoUpload.value = '';
                this.elements.shoulderStyle.value = this.state.design.shoulderStyle;
                this.elements.handStyle.value = this.state.design.handStyle;
                this.elements.collarStyle.value = this.state.design.collarStyle;
            }

            bindEvents() {
                const debounce = (func, wait) => {
                    let timeout;
                    return (...args) => {
                        clearTimeout(timeout);
                        timeout = setTimeout(() => func.apply(this, args), wait);
                    };
                };

                this.elements.jerseyStyle.addEventListener('change', (e) => {
                    this.state.design.style = e.target.value;
                    this.saveToHistory();
                    this.updateJersey();
                });

                this.elements.primaryColor.addEventListener('input', debounce((e) => {
                    this.state.design.primaryColor = e.target.value;
                    this.saveToHistory();
                    this.updateJersey();
                }, 100));

                this.elements.secondaryColor.addEventListener('input', debounce((e) => {
                    this.state.design.secondaryColor = e.target.value;
                    this.saveToHistory();
                    this.updateJersey();
                }, 100));

                this.elements.patternSelect.addEventListener('change', (e) => {
                    this.state.design.pattern = e.target.value;
                    this.saveToHistory();
                    this.updateJersey();
                });

                this.elements.playerName.addEventListener('input', debounce((e) => {
                    if (e.target.value.length <= 20) {
                        this.state.design.playerName = e.target.value;
                        this.saveToHistory();
                        this.updateJersey();
                    } else {
                        e.target.value = this.state.design.playerName;
                        this.showNotification('Player name must be 20 characters or less', 'error');
                    }
                }, 300));

                this.elements.jerseyNumber.addEventListener('input', debounce((e) => {
                    const value = e.target.value;
                    if (value === '' || (Number(value) >= 0 && Number(value) <= 99)) {
                        this.state.design.jerseyNumber = value;
                        this.saveToHistory();
                        this.updateJersey();
                    } else {
                        e.target.value = this.state.design.jerseyNumber;
                        this.showNotification('Jersey number must be between 0 and 99', 'error');
                    }
                }, 300));

                this.elements.fontStyle.addEventListener('change', (e) => {
                    this.state.design.fontStyle = e.target.value;
                    this.saveToHistory();
                    this.updateJersey();
                });

                this.elements.backStyle.addEventListener('change', (e) => {
                    this.state.design.backStyle = e.target.value;
                    this.saveToHistory();
                    this.updateJersey();
                });

                this.elements.clubName.addEventListener('input', debounce((e) => {
                    if (e.target.value.length <= 30) {
                        this.state.design.clubName = e.target.value;
                        this.saveToHistory();
                        this.updateJersey();
                    } else {
                        e.target.value = this.state.design.clubName;
                        this.showNotification('Club name must be 30 characters or less', 'error');
                    }
                }, 300));

                this.elements.logoUpload.addEventListener('change', (e) => {
                    const file = e.target.files[0];
                    if (file && file.type.startsWith('image/') && file.size <= 2 * 1024 * 1024) {
                        const reader = new FileReader();
                        reader.onload = () => {
                            this.state.design.logo = reader.result;
                            this.logoImage = new Image();
                            this.logoImage.src = reader.result;
                            this.logoImage.onload = () => {
                                this.saveToHistory();
                                this.updateJersey();
                                this.showNotification('Logo uploaded successfully', 'success');
                            };
                        };
                        reader.onerror = () => {
                            this.showNotification('Failed to read logo file', 'error');
                        };
                        reader.readAsDataURL(file);
                    } else {
                        this.showNotification('Please upload a PNG/JPG image (max 2MB)', 'error');
                    }
                });

                this.elements.shoulderStyle.addEventListener('change', (e) => {
                    this.state.design.shoulderStyle = e.target.value;
                    this.saveToHistory();
                    this.updateJersey();
                });

                this.elements.handStyle.addEventListener('change', (e) => {
                    this.state.design.handStyle = e.target.value;
                    this.saveToHistory();
                    this.updateJersey();
                });

                this.elements.collarStyle.addEventListener('change', (e) => {
                    this.state.design.collarStyle = e.target.value;
                    this.saveToHistory();
                    this.updateJersey();
                });

                this.elements.saveDesign.addEventListener('click', () => this.saveDesign());
                this.elements.downloadDesign.addEventListener('click', () => this.downloadDesign());
                this.elements.resetDesign.addEventListener('click', () => this.confirmReset());
                this.elements.applyDesign.addEventListener('click', () => this.applyDesign());
                this.elements.undoDesign.addEventListener('click', () => this.undo());
                this.elements.redoDesign.addEventListener('click', () => this.redo());
            }

            saveDesign() {
                try {
                    localStorage.setItem('jerseyDesign', JSON.stringify(this.state.design));
                    console.log('Sending design to server:', this.state.design);
                    this.showNotification('Design saved successfully', 'success');
                } catch (error) {
                    this.showNotification('Failed to save design', 'error');
                }
            }

            downloadDesign() {
                try {
                    const link = document.createElement('a');
                    link.href = this.canvas.toDataURL('image/png');
                    link.download = 'jersey_design.png';
                    link.click();
                    this.showNotification('Design downloaded successfully', 'success');
                } catch (error) {
                    this.showNotification('Failed to download design', 'error');
                }
            }

            confirmReset() {
                const confirmation = document.createElement('div');
                confirmation.className = 'fixed inset-0 bg-gray-900/80 flex items-center justify-center z-50';
                confirmation.innerHTML = `
                    <div class="bg-gray-800 p-6 rounded-lg shadow-xl">
                        <p class="text-blue-200 mb-4">Are you sure you want to reset your design?</p>
                        <div class="flex justify-end gap-4">
                            <button id="confirm-reset" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">Yes</button>
                            <button id="cancel-reset" class="px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-500">No</button>
                        </div>
                    </div>
                `;
                document.body.appendChild(confirmation);

                document.getElementById('confirm-reset').addEventListener('click', () => {
                    this.resetDesign();
                    confirmation.remove();
                });
                document.getElementById('cancel-reset').addEventListener('click', () => {
                    confirmation.remove();
                });
            }

            resetDesign() {
                this.state.design = { ...this.defaultDesign };
                this.state.history = [];
                this.state.historyIndex = -1;
                this.logoImage = null;
                this.syncInputs();
                this.updateJersey();
                this.showNotification('Design reset successfully', 'info');
            }

            applyDesign() {
                this.updateJersey();
                this.showNotification('Design applied successfully', 'success');
            }

            showNotification(message, type) {
                const notification = document.createElement('div');
                notification.className = `notification fixed bottom-4 right-4 px-6 py-3 rounded-lg text-white shadow-lg ${
                    type === 'success' ? 'bg-green-500' : type === 'error' ? 'bg-red-500' : 'bg-blue-500'
                }`;
                notification.textContent = message;
                notification.classList.add('notification-enter');
                document.body.appendChild(notification);

                setTimeout(() => {
                    notification.classList.remove('notification-enter');
                }, 100);
                setTimeout(() => {
                    notification.classList.add('notification-exit');
                    setTimeout(() => {
                        notification.remove();
                    }, 300);
                }, 3000);
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            new JerseyCustomizer();
        });

        // GSAP Animations
        const initializeAnimations = () => {
            // Hero Section Animation with enhanced effects
            gsap.from('.hero-section', {
                opacity: 0,
                y: 100,
                duration: 1.5,
                ease: 'power3.out',
                stagger: {
                    from: 'start',
                    amount: 0.5
                }
            });

            // Product Cards Animation with hover effect
            const productCards = document.querySelectorAll('.product-card');
            productCards.forEach(card => {
                // Initial animation
                gsap.from(card, {
                    scrollTrigger: {
                        trigger: card,
                        start: 'top bottom-=100',
                        toggleActions: 'play none none reverse'
                    },
                    opacity: 0,
                    y: 50,
                    duration: 0.8,
                    ease: 'power2.out'
                });

                // Hover animation
                card.addEventListener('mouseenter', () => {
                    gsap.to(card, {
                        scale: 1.05,
                        boxShadow: '0 25px 50px rgba(0,0,0,0.2)',
                        duration: 0.3,
                        ease: 'power2.out'
                    });
                });

                card.addEventListener('mouseleave', () => {
                    gsap.to(card, {
                        scale: 1,
                        boxShadow: '0 10px 30px rgba(0,0,0,0.1)',
                        duration: 0.3,
                        ease: 'power2.in'
                    });
                });
            });

            // Parallax background effect
            gsap.to('.stars', {
                scrollTrigger: {
                    trigger: 'body',
                    start: 'top top',
                    end: 'bottom bottom',
                    scrub: 1
                },
                y: -100,
                ease: 'none'
            });

            // Button hover animations
            const buttons = document.querySelectorAll('button');
            buttons.forEach(button => {
                button.addEventListener('mouseenter', () => {
                    gsap.to(button, {
                        scale: 1.05,
                        duration: 0.2,
                        ease: 'power1.out'
                    });
                });

                button.addEventListener('mouseleave', () => {
                    gsap.to(button, {
                        scale: 1,
                        duration: 0.2,
                        ease: 'power1.in'
                    });
                });
            });

            // Section reveal animations
            gsap.utils.toArray('section').forEach(section => {
                gsap.from(section, {
                    scrollTrigger: {
                        trigger: section,
                        start: 'top center+=100',
                        toggleActions: 'play none none reverse'
                    },
                    opacity: 0,
                    y: 50,
                    duration: 1,
                    ease: 'power3.out'
                });
            });
        };

        document.addEventListener('DOMContentLoaded', () => {
            initializeAnimations();
        });
    </script>


    <!-- Customer Reviews Section -->
    <section id="reviews" class="py-20 bg-gradient-to-br from-moon-50 to-glow-50 dark:from-gray-900 dark:to-gray-800 relative overflow-hidden">
        <div class="absolute inset-0 moon-bg opacity-10"></div>
        <div class="container mx-auto px-4 relative z-10">
            <div class="text-center mb-16">
                <h2 class="text-4xl md:text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-nebula-500 via-glow-500 to-moon-500 animate-gradient-text mb-4">What Our Champions Say</h2>
                <p class="text-gray-600 dark:text-gray-300">Real stories from our young stars and their parents</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Review Card 1 -->
                <div class="review-card bg-white/90 dark:bg-gray-800/90 backdrop-blur-md p-8 rounded-2xl shadow-xl transform transition-all duration-300 hover:-translate-y-2 hover:shadow-2xl">
                    <div class="flex items-center mb-6">
                        <img src="images/1.png" alt="Sarah's child" class="w-12 h-12 rounded-full object-cover">
                        <div class="ml-4">
                            <h4 class="text-lg font-bold text-gray-900 dark:text-white">Sarah Johnson</h4>
                            <p class="text-sm text-gray-500 dark:text-gray-400">Parent</p>
                        </div>
                        <div class="ml-auto">
                            <i class="fas fa-quote-right text-3xl text-nebula-300 dark:text-nebula-600"></i>
                        </div>
                    </div>
                    <p class="text-gray-600 dark:text-gray-300 mb-6">The quality is amazing! My son loves his Barcelona jersey and wears it to every practice. The eco-friendly material is a huge plus.</p>
                    <div class="flex items-center">
                        <div class="flex text-glow-500">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                        <span class="ml-2 text-sm text-gray-500 dark:text-gray-400">5.0</span>
                    </div>
                </div>

                <!-- Review Card 2 -->
                <div class="review-card bg-white/90 dark:bg-gray-800/90 backdrop-blur-md p-8 rounded-2xl shadow-xl transform transition-all duration-300 hover:-translate-y-2 hover:shadow-2xl">
                    <div class="flex items-center mb-6">
                        <img src="images/28.png" alt="Mike's team" class="w-12 h-12 rounded-full object-cover">
                        <div class="ml-4">
                            <h4 class="text-lg font-bold text-gray-900 dark:text-white">Mike Rodriguez</h4>
                            <p class="text-sm text-gray-500 dark:text-gray-400">Youth Coach</p>
                        </div>
                        <div class="ml-auto">
                            <i class="fas fa-quote-right text-3xl text-nebula-300 dark:text-nebula-600"></i>
                        </div>
                    </div>
                    <p class="text-gray-600 dark:text-gray-300 mb-6">Ordered jerseys for my entire team. The customization options are fantastic, and the kids absolutely love them. Great team spirit booster!</p>
                    <div class="flex items-center">
                        <div class="flex text-glow-500">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                        </div>
                        <span class="ml-2 text-sm text-gray-500 dark:text-gray-400">4.5</span>
                    </div>
                </div>

                <!-- Review Card 3 -->
                <div class="review-card bg-white/90 dark:bg-gray-800/90 backdrop-blur-md p-8 rounded-2xl shadow-xl transform transition-all duration-300 hover:-translate-y-2 hover:shadow-2xl">
                    <div class="flex items-center mb-6">
                        <img src="images/52.png" alt="Emma's jersey" class="w-12 h-12 rounded-full object-cover">
                        <div class="ml-4">
                            <h4 class="text-lg font-bold text-gray-900 dark:text-white">Emma Chen</h4>
                            <p class="text-sm text-gray-500 dark:text-gray-400">Young Player</p>
                        </div>
                        <div class="ml-auto">
                            <i class="fas fa-quote-right text-3xl text-nebula-300 dark:text-nebula-600"></i>
                        </div>
                    </div>
                    <p class="text-gray-600 dark:text-gray-300 mb-6">I designed my own jersey and it's perfect! The colors are so bright and it fits just right. All my friends want one now!</p>
                    <div class="flex items-center">
                        <div class="flex text-glow-500">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                        <span class="ml-2 text-sm text-gray-500 dark:text-gray-400">5.0</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gradient-to-b from-gray-900 to-black text-white py-16 relative overflow-hidden">
        <div class="absolute inset-0 -z-10">
            <div class="absolute top-0 left-0 w-64 h-64 bg-nebula-500/10 rounded-full filter blur-3xl animate-float"></div>
            <div class="absolute bottom-0 right-0 w-80 h-80 bg-glow-500/10 rounded-full filter blur-3xl animate-float animation-delay-1000"></div>
        </div>
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-12">
                <!-- Brand -->
                <div>
                    <div class="flex items-center space-x-3 mb-6">
                        <div class="bg-gradient-to-r from-nebula-500 to-glow-500 text-white px-4 py-2 rounded-full">
                            <span class="text-xl font-bold">JerseyJoy</span>
                        </div>
                    </div>
                    <p class="text-gray-400 text-sm mb-6">Empowering young athletes with eco-friendly, customizable jerseys that inspire team spirit and fun.</p>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-400 hover:text-white transition"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white transition"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white transition"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white transition"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>

                <!-- Quick Links -->
                <div>
                    <h4 class="text-lg font-bold mb-6">Quick Links</h4>
                    <ul class="space-y-4">
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Home</a></li>
                        <li><a href="#products" class="text-gray-400 hover:text-white transition">Shop</a></li>
                        <li><a href="#collections" class="text-gray-400 hover:text-white transition">Collections</a></li>
                        <li><a href="#customization" class="text-gray-400 hover:text-white transition">Design Lab</a></li>
                        <li><a href="#about" class="text-gray-400 hover:text-white transition">About Us</a></li>
                    </ul>
                </div>

                <!-- Support -->
                <div>
                    <h4 class="text-lg font-bold mb-6">Support</h4>
                    <ul class="space-y-4">
                        <li><a href="#" class="text-gray-400 hover:text-white transition">FAQ</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Shipping</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Returns</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Size Guide</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Contact Us</a></li>
                    </ul>
                </div>

                <!-- Newsletter -->
                <div>
                    <h4 class="text-lg font-bold mb-6">Join Our Team</h4>
                    <p class="text-gray-400 text-sm mb-4">Subscribe for exclusive offers and updates!</p>
                    <form class="space-y-4">
                        <div class="relative">
                            <input type="email" placeholder="Enter your email" class="w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-nebula-500">
                            <button type="submit" class="absolute right-2 top-1/2 transform -translate-y-1/2 bg-nebula-500 text-white px-4 py-1 rounded-full text-sm hover:bg-nebula-600 transition">
                                Subscribe
                            </button>
                        </div>
                    </form>
                </div>
            </div>

            <div class="mt-12 pt-8 border-t border-white/10 text-center">
                <p class="text-gray-400 text-sm">&copy; 2025 JerseyJoy. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Register GSAP Plugins
            if (typeof gsap !== 'undefined' && typeof ScrollTrigger !== 'undefined') {
              gsap.registerPlugin(ScrollTrigger);
            } else {
              console.warn('GSAP or ScrollTrigger not loaded.');
            }
          
            // Utility Functions
            const playSound = (type) => {
              const sounds = {
                'add-to-cart': 'https://cdn.pixabay.com/audio/2022/03/10/audio_5b8b3a7d5d.mp3',
                wishlist: 'https://cdn.pixabay.com/audio/2022/03/10/audio_3f3f3f3f3f.mp3',
                hover: 'https://cdn.pixabay.com/audio/2022/03/10/audio_3f3f3f3f3f.mp3',
              };
              if (sounds[type]) {
                const audio = new Audio(sounds[type]);
                audio.play().catch((error) => console.warn(`Audio playback failed for ${type}:`, error));
              }
            };
          
            // GSAP Animations
            const initializeAnimations = () => {
              
          
              
          
              // Activity Cards Animation (Jersey Design Lab)
              gsap.from('.activity-card', {
                scrollTrigger: {
                  trigger: '#design-lab',
                  start: 'top 80%',
                  toggleActions: 'play none none none',
                },
                opacity: 0,
                scale: 0.9,
                duration: 0.8,
                stagger: 0.2,
                ease: 'back.out(1.7)',
              });
          
              // Footer Animation
              gsap.from('footer', {
                scrollTrigger: {
                  trigger: 'footer',
                  start: 'top 90%',
                  toggleActions: 'play none none none',
                },
                opacity: 0,
                y: 50,
                duration: 1,
                ease: 'power3.out',
              });
            };
          
            // Carousel Logic for Collections Section
            const initializeCarousel = () => {
              const carousel = document.getElementById('carousel');
              const prevBtn = document.getElementById('carousel-prev');
              const nextBtn = document.getElementById('carousel-next');
              const indicators = document.querySelectorAll('.indicator');
              let currentIndex = 0;
              const totalItems = indicators.length || 3;
          
              if (!carousel || !prevBtn || !nextBtn || !indicators.length) {
                console.warn('Carousel elements not found.');
                return;
              }
          
              const updateCarousel = () => {
                const translateX = window.innerWidth < 768 ? -currentIndex * 100 : -currentIndex * (100 / 3);
                carousel.style.transform = `translateX(${translateX}%)`;
                indicators.forEach((indicator, index) => {
                  indicator.classList.toggle('bg-nebula-500', index === currentIndex);
                  indicator.classList.toggle('bg-gray-300', index !== currentIndex);
                  indicator.setAttribute('aria-current', index === currentIndex);
                });
                prevBtn.disabled = currentIndex === 0;
                nextBtn.disabled = currentIndex === totalItems - 1;
              };
          
              nextBtn.addEventListener('click', () => {
                if (currentIndex < totalItems - 1) {
                  currentIndex++;
                  updateCarousel();
                }
              });
          
              prevBtn.addEventListener('click', () => {
                if (currentIndex > 0) {
                  currentIndex--;
                  updateCarousel();
                }
              });
          
              indicators.forEach((indicator, index) => {
                indicator.addEventListener('click', () => {
                  currentIndex = index;
                  updateCarousel();
                });
              });
          
              // Auto-Play Carousel
              let autoPlayInterval = setInterval(() => {
                currentIndex = currentIndex < totalItems - 1 ? currentIndex + 1 : 0;
                updateCarousel();
              }, 5000);
          
              // Pause Auto-Play on Hover
              const carouselContainer = carousel.parentElement;
              carouselContainer.addEventListener('mouseenter', () => clearInterval(autoPlayInterval));
              carouselContainer.addEventListener('mouseleave', () => {
                autoPlayInterval = setInterval(() => {
                  currentIndex = currentIndex < totalItems - 1 ? currentIndex + 1 : 0;
                  updateCarousel();
                }, 5000);
              });
          
              // Update on Resize
              window.addEventListener('resize', updateCarousel);
            };
          
            // Load More Button for Products
            const initializeLoadMore = () => {
              const loadMoreBtn = document.getElementById('load-more');
              const productGrid = document.getElementById('product-grid');
              let productsLoaded = 40; // Initial number of products loaded
              const totalProducts = 70; // Total number of products available
          
              if (!loadMoreBtn || !productGrid) {
                console.warn('Load more elements not found.');
                return;
              }
          
              loadMoreBtn.addEventListener('click', () => {
                const newProducts = [
                  {
                    name: 'Cosmic Kick Jersey',
                    price: 1690,
                    oldPrice: 2090,
                    colors: ['nebula-500', 'glow-500', 'stardust-500'],
                    category: 'Sports',
                    badge: 'New',
                    image: 'images/19.png',
                    age: '5-9Y',
                    rating: 4.5,
                    features: ['Breathable Fabric', 'Vivid Prints', 'Flexible Fit'],
                    team: 'Custom',
                  },
                  {
                    name: 'Barca White Jersey',
                    price: 1590,
                    oldPrice: 1990,
                    colors: ['glow-400', 'comet-light', 'moon-300'],
                    category: 'Casual',
                    badge: 'Popular',
                    image: 'images/20.png',
                    age: '4-7Y',
                    rating: 4.6,
                    features: ['Soft Cotton', 'Colorful Patterns', 'Easy Wash'],
                    team: 'Custom',
                  },
                  {
                    name: 'Bangladesh Cricket Jersey',
                    price: 1590,
                    oldPrice: 1990,
                    colors: ['glow-400', 'comet-light', 'moon-300'],
                    category: 'Casual',
                    badge: 'Popular',
                    image: 'images/50.png',
                    age: '4-7Y',
                    rating: 4.6,
                    features: ['Soft Cotton', 'Colorful Patterns', 'Easy Wash'],
                    team: 'Custom',
                  },
                  {
                    name: 'Barca blue Jersey',
                    price: 1590,
                    oldPrice: 1990,
                    colors: ['glow-400', 'comet-light', 'moon-300'],
                    category: 'Casual',
                    badge: 'Popular',
                    image: 'images/16.png',
                    age: '4-7Y',
                    rating: 4.6,
                    features: ['Soft Cotton', 'Colorful Patterns', 'Easy Wash'],
                    team: 'Custom',
                  },
                {
                    name: 'Barça Dynamic Jersey',
                    price: 1790,
                    oldPrice: 2290,
                    colors: ['nebula-500', 'glow-500', 'moon-500'],
                    category: 'Sports',
                    badge: 'New',
                    image: 'images/6.png',
                    age: '5-9Y',
                    rating: 4.7,
                    features: ['Breathable Fabric', 'Dynamic Fit', 'Bold Design'],
                    team: 'Barcelona'
                },
                {
                    name: 'Barça Energy Jersey',
                    price: 1690,
                    oldPrice: 2090,
                    colors: ['nebula-400', 'glow-400', 'stardust-400'],
                    category: 'Sports',
                    badge: 'Trending',
                    image: 'images/7.png',
                    age: '6-10Y',
                    rating: 4.6,
                    features: ['Eco-Friendly Fabric', 'Quick-Dry', 'Vivid Colors'],
                    team: 'Barcelona'
                },
                {
                    name: 'Barça Star Jersey',
                    price: 1890,
                    oldPrice: 2390,
                    colors: ['nebula-600', 'glow-600', 'stardust-dark'],
                    category: 'Sports',
                    badge: 'Popular',
                    image: 'images/27.png',
                    age: '7-12Y',
                    rating: 4.8,
                    features: ['Premium Material', 'UV Protection', 'Dynamic Stripes'],
                    team: 'Barcelona'
                },
                {
                    name: 'Classic Team Jersey',
                    price: 1490,
                    oldPrice: 1890,
                    colors: ['stardust-500', 'comet-500', 'nebula-300'],
                    category: 'Casual',
                    badge: 'Limited',
                    image: 'images/38.png',
                    age: '4-8Y',
                    rating: 4.5,
                    features: ['Soft Cotton', 'Relaxed Fit', 'Easy Wash'],
                    team: 'General'
                },
                {
                    name: 'FC Bayern Jersey',
                    price: 1790,
                    oldPrice: 2290,
                    colors: ['nebula-500', 'glow-500', 'moon-500'],
                    category: 'Team',
                    badge: 'New',
                    image: 'images/53.png',
                    age: '6-10Y',
                    rating: 4.7,
                    features: ['Breathable Fabric', 'Dynamic Fit', 'Bold Design'],
                    team: 'FC Bayern'
                },
                {
                    name: 'Inter Miami Jersey',
                    price: 1690,
                    oldPrice: 2090,
                    colors: ['nebula-400', 'glow-400', 'stardust-400'],
                    category: 'Team',
                    badge: 'Trending',
                    image: 'images/54.png',
                    age: '5-9Y',
                    rating: 4.6,
                    features: ['Eco-Friendly Fabric', 'Quick-Dry', 'Vivid Colors'],
                    team: 'Inter Miami'
                },
                {
                    name: 'Barça Elite Jersey',
                    price: 1890,
                    oldPrice: 2390,
                    colors: ['nebula-600', 'glow-600', 'stardust-dark'],
                    category: 'Sports',
                    badge: 'Popular',
                    image: 'images/8.png',
                    age: '7-12Y',
                    rating: 4.8,
                    features: ['Premium Material', 'UV Protection', 'Dynamic Stripes'],
                    team: 'Barcelona'
                },
                {
                    name: 'Barça Classic Jersey',
                    price: 1490,
                    oldPrice: 1890,
                    colors: ['stardust-500', 'comet-500', 'nebula-300'],
                    category: 'Casual',
                    badge: 'Limited',
                    image: 'images/22.png',
                    age: '4-8Y',
                    rating: 4.5,
                    features: ['Soft Cotton', 'Relaxed Fit', 'Easy Wash'],
                    team: 'Barcelona'
                }
                ];
          
                newProducts.slice(0, Math.min(16, totalProducts - productsLoaded)).forEach((product) => {
                  const productCard = document.createElement('div');
                  productCard.className = 'product-card p-6 relative group';
                  productCard.setAttribute('data-category', product.category);
                  productCard.setAttribute('role', 'article');
                  productCard.setAttribute('aria-label', product.name);
                  productCard.innerHTML = `
                    <div class="absolute -top-2 -left-2 z-10 animate-bounce-slow">
                      <span class="badge relative flex items-center justify-center w-16 h-16 bg-${
                        product.badge === 'New' ? 'nebula-500' : 'glow-500'
                      }">
                        <div class="absolute inset-0 rounded-full bg-white/10 dark:bg-gray-800/10 animate-ping-slow opacity-70"></div>
                        <div class="w-16 h-16 flex items-center justify-center rounded-full transform rotate-12 text-xs font-extrabold text-white shadow-lg">
                          <span class="transform -rotate-12">${product.badge}</span>
                        </div>
                      </span>
                    </div>
                    <span class="age-tag absolute top-3 right-3 z-10 bg-gradient-to-r from-glow-400 to-glow-500 text-white px-3 py-1 rounded-full font-bold shadow-md transform rotate-3">${
                      product.age
                    }</span>
                    <div class="relative overflow-hidden rounded-2xl mb-5 h-64 shadow-inner">
                      <div class="absolute inset-0 bg-gradient-to-t from-gray-900/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity z-10"></div>
                      <img src="${
                        product.image
                      }" alt="${product.name}" class="w-full h-full object-cover transition-all duration-700 ease-in-out transform group-hover:scale-110" loading="lazy">
                      <div class="absolute bottom-0 left-0 right-0 p-4 flex justify-center space-x-3 translate-y-full group-hover:translate-y-0 transition-transform duration-500 ease-out z-20">
                        <button class="w-12 h-12 rounded-full bg-white dark:bg-gray-700 text-nebula-500 dark:text-nebula-400 flex items-center justify-center hover:bg-nebula-50 dark:hover:bg-nebula-600 transition shadow-lg tooltip hover-sound" data-tooltip="Quick view" @click="previewProduct = ${JSON.stringify(
                    product
                  )}; previewOpen = true" aria-label="Quick view">
                          <i class="fas fa-eye"></i>
                        </button>
                        <button class="w-12 h-12 rounded-full bg-white dark:bg-gray-700 text-glow-500 dark:text-glow-400 flex items-center justify-center hover:bg-glow-50 dark:hover:bg-glow-600 transition shadow-lg tooltip hover-sound" data-tooltip="Add to cart" @click="addToCart(${JSON.stringify(
                    product
                  )})" aria-label="Add to cart">
                          <i class="fas fa-shopping-cart"></i>
                        </button>
                        <button class="w-12 h-12 rounded-full bg-white dark:bg-gray-700 flex items-center justify-center hover:bg-comet-50 dark:hover:bg-comet-600 transition shadow-lg tooltip hover-sound" :class="{ 'text-comet-500': wishlist.includes('${
                          product.name
                        }'), 'text-gray-400 dark:text-gray-500': !wishlist.includes('${
                    product.name
                  }') }" data-tooltip="Add to wishlist" @click="toggleWishlist('${
                    product.name
                  }')" aria-label="Add to wishlist">
                          <i class="fas fa-heart"></i>
                        </button>
                      </div>
                      <div class="absolute top-0 left-0 right-0 p-3 flex flex-wrap gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-500 delay-100 z-20">
                        ${product.features
                          .map(
                            (feature) =>
                              `<span class="text-xs bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm text-gray-700 dark:text-gray-200 px-2 py-1 rounded-full">${feature}</span>`
                          )
                          .join('')}
                      </div>
                    </div>
                    <div class="relative">
                      <h3 class="text-xl font-bold text-gray-900 group-hover:text-nebula-500 transition-colors mb-2 relative inline-block">${
                        product.name
                      }<span class="absolute bottom-0 left-0 w-0 h-0.5 bg-nebula-400 group-hover:w-full transition-all duration-300"></span></h3>
                      <div class="flex items-center mb-2">
                        <div class="flex text-glow-500">
                          ${Array(5)
                            .fill()
                            .map(
                              (_, i) =>
                                `<i class="${
                                  i < Math.floor(product.rating)
                                    ? 'fas fa-star'
                                    : i < product.rating
                                    ? 'fas fa-star-half-alt'
                                    : 'far fa-star'
                                } text-sm"></i>`
                            )
                            .join('')}
                        </div>
                        <span class="text-gray-500 dark:text-gray-400 text-sm ml-2">${
                          product.rating
                        } (${Math.floor(Math.random() * 50 + 10)})</span>
                      </div>
                      <div class="flex items-center mb-3">
                        <span class="font-bold text-lg text-gray-900">৳${product.price.toLocaleString()}</span>
                        <span class="line-through text-gray-400 dark:text-gray-500 text-sm ml-2">৳${product.oldPrice.toLocaleString()}</span>
                        <span class="ml-2 text-xs font-bold px-1.5 py-0.5 rounded-md ${
                          (product.oldPrice - product.price) / product.oldPrice > 0.2
                            ? 'bg-red-100 text-red-600 dark:bg-red-600 dark:text-white'
                            : 'bg-amber-100 text-amber-600 dark:bg-amber-600 dark:text-white'
                        }">${Math.round(
                    ((product.oldPrice - product.price) / product.oldPrice) * 100
                  )}% OFF</span>
                      </div>
                      <div class="flex space-x-3 mb-4 relative">
                        ${product.colors
                          .map(
                            (color, index) =>
                              `<button class="color-dot flex-shrink-0 cursor-pointer transform transition duration-300 hover:scale-125 bg-${color} ${
                                index === 0 ? 'scale-125 ring-2 ring-offset-2' : ''
                              }" @click="selectColor($event)" aria-label="Select color ${color}"></button>`
                          )
                          .join('')}
                      </div>
                      <div class="space-y-2">
                        <button class="add-to-cart w-full bg-gradient-to-r from-nebula-500 to-glow-500 hover:from-nebula-600 hover:to-glow-600 text-white py-3 px-4 rounded-full font-bold shadow-md transition transform hover:translate-y-1 hover:shadow-lg group flex items-center justify-center hover-sound" @click="addToCart(${JSON.stringify(
                    product
                  )})" aria-label="Add to cart">
                          <span class="absolute rounded-full w-1 h-1 bg-white opacity-0 group-hover:w-full group-hover:h-full group-hover:opacity-30 transition-all duration-300 ease-out"></span>
                          <i class="fas fa-shopping-cart mr-2 group-hover:animate-bounce-once"></i>
                          <span>Add to Cart</span>
                        </button>
                        <div class="flex justify-between">
                          <button class="text-sm text-nebula-500 hover:text-nebula-700 dark:hover:text-nebula-400 transition hover-sound flex items-center" @click="sizeGuideOpen = true" aria-label="View size guide">
                            <i class="fas fa-ruler-combined mr-1"></i> Size Guide
                          </button>
                          <button class="text-sm text-nebula-500 hover:text-nebula-700 dark:hover:text-nebula-400 transition hover-sound flex items-center" @click="previewProduct = ${JSON.stringify(
                    product
                  )}; previewOpen = true" aria-label="View product details">
                            View Details <i class="fas fa-chevron-right ml-1 text-xs"></i>
                          </button>
                        </div>
                      </div>
                    </div>
                  `;
                  productGrid.appendChild(productCard);
                  productsLoaded++;
          
                  // Animate new product
                  gsap.from(productCard, {
                    opacity: 0,
                    y: 50,
                    duration: 0.5,
                    ease: 'power2.out',
                  });
                });
          
                // Update button state
                if (productsLoaded >= totalProducts) {
                  loadMoreBtn.textContent = 'All Jerseys Loaded';
                  loadMoreBtn.disabled = true;
                  loadMoreBtn.classList.add('opacity-50', 'cursor-not-allowed');
                } else {
                  loadMoreBtn.querySelector('span.relative').textContent = `Discover More Jerseys (${productsLoaded}/${totalProducts})`;
                }
              });
            };
          
            // Back-to-Top Button
            const initializeBackToTop = () => {
              const backToTopBtn = document.createElement('button');
              backToTopBtn.className = 'back-to-top';
              backToTopBtn.innerHTML = '<i class="fas fa-arrow-up"></i>';
              backToTopBtn.setAttribute('aria-label', 'Back to top');
              document.body.appendChild(backToTopBtn);
          
              const toggleBackToTop = () => {
                backToTopBtn.classList.toggle('visible', window.scrollY > 300);
              };
          
              backToTopBtn.addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
              });
          
              window.addEventListener('scroll', toggleBackToTop);
            };
          
            // Accessibility Enhancements
            const initializeAccessibility = () => {
              // Modal Focus Management
              const modals = document.querySelectorAll('#cart-modal, #preview-modal, #size-guide-modal');
              modals.forEach((modal) => {
                modal.addEventListener('keydown', (e) => {
                  if (e.key === 'Escape') {
                    modal.__x.$data.cartOpen = false;
                    modal.__x.$data.previewOpen = false;
                    modal.__x.$data.sizeGuideOpen = false;
                  }
                });
          
                modal.addEventListener('focusin', (e) => {
                  const focusableElements = modal.querySelectorAll(
                    'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
                  );
                  const firstElement = focusableElements[0];
                  const lastElement = focusableElements[focusableElements.length - 1];
          
                  if (!modal.contains(e.target)) {
                    firstElement.focus();
                  }
                });
              });
          
              // Smooth Scroll for Anchor Links
              document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
                anchor.addEventListener('click', (e) => {
                  e.preventDefault();
                  const target = document.querySelector(anchor.getAttribute('href'));
                  if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                  }
                });
              });
            };
          
            // Hover Sound Effects
            const initializeHoverSounds = () => {
              document.querySelectorAll('.hover-sound').forEach((element) => {
                element.addEventListener('mouseenter', () => playSound('hover'));
              });
            };
          
            // Initialize All Features
            const init = () => {
              initializeAnimations();
              initializeCarousel();
              initializeLoadMore();
              initializeBackToTop();
              initializeAccessibility();
              initializeHoverSounds();
          
              // AOS Animation for Hero Section
              setTimeout(() => {
                document.querySelectorAll('[data-aos]').forEach((element) => {
                  element.classList.add('aos-animate');
                });
              }, 100);
          
              // Scroll to Top on Page Refresh
              window.scrollTo(0, 0);
            };
          
            init();
          });
          
          // Expose playSound to Alpine.js
          window.playSound = (type) => {
            const sounds = {
              'add-to-cart': 'https://cdn.pixabay.com/audio/2022/03/10/audio_5b8b3a7d5d.mp3',
              wishlist: 'https://cdn.pixabay.com/audio/2022/03/10/audio_3f3f3f3f3f.mp3',
              hover: 'https://cdn.pixabay.com/audio/2022/03/10/audio_3f3f3f3f3f.mp3',
            };
            if (sounds[type]) {
              const audio = new Audio(sounds[type]);
              audio.play().catch((error) => console.warn(`Audio playback failed for ${type}:`, error));
            }
          };
          
</script>
</body>
</html>
